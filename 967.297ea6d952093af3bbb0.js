(self.webpackChunkknown_unknowns_multiple_exemplar_experiment=self.webpackChunkknown_unknowns_multiple_exemplar_experiment||[]).push([[967],{6967:(Kt,U,c)=>{"use strict";c.r(U),c.d(U,{StudyModule:()=>Bc});var h=c(2057),s=c(793),j=c(9765),_=(c(6215),c(7574),c(6682),c(5435)),K=c(3342);const ft={provide:s.tb,useFactory:function(t,i){return()=>{if((0,h.NF)(i)){const e=Array.from(t.querySelectorAll(`[class*=${d}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(l=>{l.classList.contains(`${d}ssr`)&&l.parentNode?l.parentNode.removeChild(l):l.className.replace(n,"")})}}},deps:[h.K0,s.Lbi],multi:!0},d="flex-layout-";let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[ft]}),t})();const E={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},O=new s.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>E}),H=new s.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Zt=new s.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});c(9490),c(6782),c(1211);let Ne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[g]]}),t})();var pt=c(6794);let Ue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[g,pt.vT]]}),t})(),ei=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[g]]}),t})(),ii=(()=>{class t{constructor(e,n){(0,h.PM)(n)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:O,useValue:Object.assign(Object.assign({},E),e)},{provide:Zt,useValue:n,multi:!0},{provide:H,useValue:!0}]:[{provide:O,useValue:Object.assign(Object.assign({},E),e)},{provide:Zt,useValue:n,multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(H),s.LFG(s.Lbi))},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Ue,Ne,ei],Ue,Ne,ei]}),t})();var Z=c(933),W=c(2414),q=c(7935),mr=c(1439),pr=c(5917),Xt=c(5257),xr=c(9761),te=c(9642),A=c(6083),ni=c(3328),si=c(2371);function yr(t,i){}class ee{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const vr={dialogContainer:(0,A.X$)("dialogContainer",[(0,A.SB)("void, exit",(0,A.oB)({opacity:0,transform:"scale(0.7)"})),(0,A.SB)("enter",(0,A.oB)({transform:"none"})),(0,A.eR)("* => enter",(0,A.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,A.oB)({transform:"none",opacity:1}))),(0,A.eR)("* => void, * => exit",(0,A.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,A.oB)({opacity:0})))])};let Ar=(()=>{class t extends W.en{constructor(e,n,l,r,o,a){super(),this._elementRef=e,this._focusTrapFactory=n,this._changeDetectorRef=l,this._config=o,this._focusMonitor=a,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const n=(0,te.ht)(),l=this._elementRef.nativeElement;(!n||n===this._document.body||n===l||l.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,te.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=(0,te.ht)();return e===n||e.contains(n)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(si.qV),s.Y36(s.sBO),s.Y36(h.K0,8),s.Y36(ee),s.Y36(si.tE))},t.\u0275dir=s.lG2({type:t,viewQuery:function(e,n){if(1&e&&s.Gf(W.Pl,7),2&e){let l;s.iGM(l=s.CRH())&&(n._portalOutlet=l.first)}},features:[s.qOj]}),t})(),Cr=(()=>{class t extends Ar{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:n}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}_onAnimationStart({toState:e,totalTime:n}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:n}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:n})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let i;return function(n){return(i||(i=s.n5z(t)))(n||t)}}(),t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,n){1&e&&s.WFA("@dialogContainer.start",function(r){return n._onAnimationStart(r)})("@dialogContainer.done",function(r){return n._onAnimationDone(r)}),2&e&&(s.Ikx("id",n._id),s.uIk("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),s.d8E("@dialogContainer",n._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&s.YNc(0,yr,0,0,"ng-template",0)},directives:[W.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[vr.dialogContainer]}}),t})(),wr=0;class yt{constructor(i,e,n="mat-dialog-"+wr++){this._overlayRef=i,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new j.xQ,this._afterClosed=new j.xQ,this._beforeClosed=new j.xQ,this._state=0,e._id=n,e._animationStateChanged.pipe((0,_.h)(l=>"opened"===l.state),(0,Xt.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,_.h)(l=>"closed"===l.state),(0,Xt.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe((0,_.h)(l=>l.keyCode===ni.hY&&!this.disableClose&&!(0,ni.Vb)(l))).subscribe(l=>{l.preventDefault(),ie(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():ie(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe((0,_.h)(e=>"closing"===e.state),(0,Xt.q)(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let e=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",e=""){return this._overlayRef.updateSize({width:i,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function ie(t,i,e){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=i),t.close(e)}const ne=new s.OlP("MatDialogData"),_r=new s.OlP("mat-dialog-default-options"),li=new s.OlP("mat-dialog-scroll-strategy"),Sr={provide:li,deps:[Z.aV],useFactory:function(t){return()=>t.scrollStrategies.block()}};let br=(()=>{class t{constructor(e,n,l,r,o,a,u,m,C){this._overlay=e,this._injector=n,this._defaultOptions=l,this._parentDialog=r,this._overlayContainer=o,this._dialogRefConstructor=u,this._dialogContainerType=m,this._dialogDataToken=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new j.xQ,this._afterOpenedAtThisLevel=new j.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,mr.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,xr.O)(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,n){(n=function(t,i){return Object.assign(Object.assign({},i),t)}(n,this._defaultOptions||new ee)).id&&this.getDialogById(n.id);const l=this._createOverlay(n),r=this._attachDialogContainer(l,n),o=this._attachDialogContent(e,r,l,n);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),r._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const n=this._getOverlayConfig(e);return this._overlay.create(n)}_getOverlayConfig(e){const n=new Z.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachDialogContainer(e,n){const r=s.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:ee,useValue:n}]}),o=new W.C5(this._dialogContainerType,n.viewContainerRef,r,n.componentFactoryResolver);return e.attach(o).instance}_attachDialogContent(e,n,l,r){const o=new this._dialogRefConstructor(l,n,r.id);if(e instanceof s.Rgc)n.attachTemplatePortal(new W.UE(e,null,{$implicit:r.data,dialogRef:o}));else{const a=this._createInjector(r,o,n),u=n.attachComponentPortal(new W.C5(e,r.viewContainerRef,a));o.componentInstance=u.instance}return o.updateSize(r.width,r.height).updatePosition(r.position),o}_createInjector(e,n,l){const r=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:n}];return e.direction&&(!r||!r.get(pt.Is,null,s.XFs.Optional))&&o.push({provide:pt.Is,useValue:{value:e.direction,change:(0,pr.of)()}}),s.zs3.create({parent:r||this._injector,providers:o})}_removeOpenDialog(e){const n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((l,r)=>{l?r.setAttribute("aria-hidden",l):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let l=n.length-1;l>-1;l--){let r=n[l];r!==e&&"SCRIPT"!==r.nodeName&&"STYLE"!==r.nodeName&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Z.aV),s.Y36(s.zs3),s.Y36(void 0),s.Y36(void 0),s.Y36(Z.Xj),s.Y36(void 0),s.Y36(s.DyG),s.Y36(s.DyG),s.Y36(s.OlP))},t.\u0275dir=s.lG2({type:t}),t})(),Mt=(()=>{class t extends br{constructor(e,n,l,r,o,a,u){super(e,n,r,a,u,o,yt,Cr,ne)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Z.aV),s.LFG(s.zs3),s.LFG(h.Ye,8),s.LFG(_r,8),s.LFG(li),s.LFG(t,12),s.LFG(Z.Xj))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),Tr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[Mt,Sr],imports:[[Z.U8,W.eL,q.BQ],q.BQ]}),t})();var Gr=c(7639);let Rr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[h.ez,q.si]]}),t})(),Lr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[h.ez,q.si]]}),t})(),Or=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[h.ez,ii]]}),t})(),Er=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[h.ez,Gr.QW,Rr,Or,Lr]]}),t})(),Br=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[h.ez,q.si]]}),t})();var se=c(8634),oi=c(8049),Ir=c(3190),kr=c(8002),Pr=c(6839),Yr=c(7012);const ai=function(t){var i=t.length;return i?t[(0,Yr.Z)(0,i-1)]:void 0};var Hr=c(4724);const Nr=function(t){return ai((0,Hr.Z)(t))};var vt=c(4654);const di=function(t){return((0,vt.Z)(t)?ai:Nr)(t)},ui={lower:"lower",upper:"upper"},zr=Object.values(ui);function Qr(){const t=di(zr);if(void 0===t)throw Error('Random stimulus case returned "undefined"!');return t}var ci=c(4875);var gi=c(6224);const Tt=function(t,i){for(var e=t.length;e--;)if((0,gi.Z)(t[e][0],i))return e;return-1};var qr=Array.prototype.splice;function st(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}st.prototype.clear=function(){this.__data__=[],this.size=0},st.prototype.delete=function(t){var i=this.__data__,e=Tt(i,t);return!(e<0||(e==i.length-1?i.pop():qr.call(i,e,1),--this.size,0))},st.prototype.get=function(t){var i=this.__data__,e=Tt(i,t);return e<0?void 0:i[e][1]},st.prototype.has=function(t){return Tt(this.__data__,t)>-1},st.prototype.set=function(t,i){var e=this.__data__,n=Tt(e,t);return n<0?(++this.size,e.push([t,i])):e[n][1]=i,this};const Gt=st;var lt=c(4423),J=c(309);const At=(0,lt.Z)(J.Z,"Map"),Ct=(0,lt.Z)(Object,"create");var _o=Object.prototype.hasOwnProperty;var Fo=Object.prototype.hasOwnProperty;function rt(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}rt.prototype.clear=function(){this.__data__=Ct?Ct(null):{},this.size=0},rt.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},rt.prototype.get=function(t){var i=this.__data__;if(Ct){var e=i[t];return"__lodash_hash_undefined__"===e?void 0:e}return _o.call(i,t)?i[t]:void 0},rt.prototype.has=function(t){var i=this.__data__;return Ct?void 0!==i[t]:Fo.call(i,t)},rt.prototype.set=function(t,i){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Ct&&void 0===i?"__lodash_hash_undefined__":i,this};const fi=rt,Rt=function(t,i){var e=t.__data__;return function(t){var i=typeof t;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==t:null===t}(i)?e["string"==typeof i?"string":"hash"]:e.map};function ot(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}ot.prototype.clear=function(){this.size=0,this.__data__={hash:new fi,map:new(At||Gt),string:new fi}},ot.prototype.delete=function(t){var i=Rt(this,t).delete(t);return this.size-=i?1:0,i},ot.prototype.get=function(t){return Rt(this,t).get(t)},ot.prototype.has=function(t){return Rt(this,t).has(t)},ot.prototype.set=function(t,i){var e=Rt(this,t),n=e.size;return e.set(t,i),this.size+=e.size==n?0:1,this};const hi=ot;function at(t){var i=this.__data__=new Gt(t);this.size=i.size}at.prototype.clear=function(){this.__data__=new Gt,this.size=0},at.prototype.delete=function(t){var i=this.__data__,e=i.delete(t);return this.size=i.size,e},at.prototype.get=function(t){return this.__data__.get(t)},at.prototype.has=function(t){return this.__data__.has(t)},at.prototype.set=function(t,i){var e=this.__data__;if(e instanceof Gt){var n=e.__data__;if(!At||n.length<199)return n.push([t,i]),this.size=++e.size,this;e=this.__data__=new hi(n)}return e.set(t,i),this.size=e.size,this};const Lt=at;function Ot(t){var i=-1,e=null==t?0:t.length;for(this.__data__=new hi;++i<e;)this.add(t[i])}Ot.prototype.add=Ot.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ot.prototype.has=function(t){return this.__data__.has(t)};const ta=Ot,ia=function(t,i){for(var e=-1,n=null==t?0:t.length;++e<n;)if(i(t[e],e,t))return!0;return!1},sa=function(t,i){return t.has(i)},mi=function(t,i,e,n,l,r){var o=1&e,a=t.length,u=i.length;if(a!=u&&!(o&&u>a))return!1;var m=r.get(t),C=r.get(i);if(m&&C)return m==i&&C==t;var y=-1,f=!0,S=2&e?new ta:void 0;for(r.set(t,i),r.set(i,t);++y<a;){var b=t[y],G=i[y];if(n)var L=o?n(G,b,y,i,t,r):n(b,G,y,t,i,r);if(void 0!==L){if(L)continue;f=!1;break}if(S){if(!ia(i,function(v,k){if(!sa(S,k)&&(b===v||l(b,v,e,n,r)))return S.push(k)})){f=!1;break}}else if(b!==G&&!l(b,G,e,n,r)){f=!1;break}}return r.delete(t),r.delete(i),f};var Et=c(5770);const Bt=J.Z.Uint8Array,ua=function(t){var i=-1,e=Array(t.size);return t.forEach(function(n,l){e[++i]=[l,n]}),e},ga=function(t){var i=-1,e=Array(t.size);return t.forEach(function(n){e[++i]=n}),e};var pi=Et.Z?Et.Z.prototype:void 0,le=pi?pi.valueOf:void 0;const xi=function(t,i){for(var e=-1,n=i.length,l=t.length;++e<n;)t[l+e]=i[e];return t},yi=function(t,i,e){var n=i(t);return(0,vt.Z)(t)?n:xi(n,e(t))},vi=function(){return[]};var Ea=Object.prototype.propertyIsEnumerable,Ai=Object.getOwnPropertySymbols;const re=Ai?function(t){return null==t?[]:(t=Object(t),function(t,i){for(var e=-1,n=null==t?0:t.length,l=0,r=[];++e<n;){var o=t[e];i(o,e,t)&&(r[l++]=o)}return r}(Ai(t),function(i){return Ea.call(t,i)}))}:vi;var oe=c(1163);const ae=function(t){return yi(t,oe.Z,re)};var Ya=Object.prototype.hasOwnProperty;const de=(0,lt.Z)(J.Z,"DataView"),ue=(0,lt.Z)(J.Z,"Promise"),ce=(0,lt.Z)(J.Z,"Set"),ge=(0,lt.Z)(J.Z,"WeakMap");var Ci=c(4796),dt=c(2035),wi="[object Map]",_i="[object Promise]",Di="[object Set]",Si="[object WeakMap]",bi="[object DataView]",Ua=(0,dt.Z)(de),Ka=(0,dt.Z)(At),Za=(0,dt.Z)(ue),Wa=(0,dt.Z)(ce),qa=(0,dt.Z)(ge),X=Ci.Z;(de&&X(new de(new ArrayBuffer(1)))!=bi||At&&X(new At)!=wi||ue&&X(ue.resolve())!=_i||ce&&X(new ce)!=Di||ge&&X(new ge)!=Si)&&(X=function(t){var i=(0,Ci.Z)(t),e="[object Object]"==i?t.constructor:void 0,n=e?(0,dt.Z)(e):"";if(n)switch(n){case Ua:return bi;case Ka:return wi;case Za:return _i;case Wa:return Di;case qa:return Si}return i});const wt=X;var fe=c(4909),Ja=c(8137),Fi="[object Arguments]",Mi="[object Array]",It="[object Object]",Ti=Object.prototype.hasOwnProperty;const id=function(t,i,e,n,l,r){var o=(0,vt.Z)(t),a=(0,vt.Z)(i),u=o?Mi:wt(t),m=a?Mi:wt(i),C=(u=u==Fi?It:u)==It,y=(m=m==Fi?It:m)==It,f=u==m;if(f&&(0,fe.Z)(t)){if(!(0,fe.Z)(i))return!1;o=!0,C=!1}if(f&&!C)return r||(r=new Lt),o||(0,Ja.Z)(t)?mi(t,i,e,n,l,r):function(t,i,e,n,l,r,o){switch(e){case"[object DataView]":if(t.byteLength!=i.byteLength||t.byteOffset!=i.byteOffset)return!1;t=t.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=i.byteLength||!r(new Bt(t),new Bt(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,gi.Z)(+t,+i);case"[object Error]":return t.name==i.name&&t.message==i.message;case"[object RegExp]":case"[object String]":return t==i+"";case"[object Map]":var a=ua;case"[object Set]":if(a||(a=ga),t.size!=i.size&&!(1&n))return!1;var m=o.get(t);if(m)return m==i;n|=2,o.set(t,i);var C=mi(a(t),a(i),n,l,r,o);return o.delete(t),C;case"[object Symbol]":if(le)return le.call(t)==le.call(i)}return!1}(t,i,u,e,n,l,r);if(!(1&e)){var S=C&&Ti.call(t,"__wrapped__"),b=y&&Ti.call(i,"__wrapped__");if(S||b){var G=S?t.value():t,L=b?i.value():i;return r||(r=new Lt),l(G,L,e,n,r)}}return!!f&&(r||(r=new Lt),function(t,i,e,n,l,r){var o=1&e,a=ae(t),u=a.length;if(u!=ae(i).length&&!o)return!1;for(var y=u;y--;){var f=a[y];if(!(o?f in i:Ya.call(i,f)))return!1}var S=r.get(t),b=r.get(i);if(S&&b)return S==i&&b==t;var G=!0;r.set(t,i),r.set(i,t);for(var L=o;++y<u;){var v=t[f=a[y]],k=i[f];if(n)var zt=o?n(k,v,f,i,t,r):n(v,k,f,t,i,r);if(!(void 0===zt?v===k||l(v,k,e,n,r):zt)){G=!1;break}L||(L="constructor"==f)}if(G&&!L){var Qt=t.constructor,Ut=i.constructor;Qt!=Ut&&"constructor"in t&&"constructor"in i&&!("function"==typeof Qt&&Qt instanceof Qt&&"function"==typeof Ut&&Ut instanceof Ut)&&(G=!1)}return r.delete(t),r.delete(i),G}(t,i,e,n,l,r))};var kt=c(6539);const nd=function Gi(t,i,e,n,l){return t===i||(null==t||null==i||!(0,kt.Z)(t)&&!(0,kt.Z)(i)?t!=t&&i!=i:id(t,i,e,n,Gi,l))},ld=function(t,i){return nd(t,i)},rd={greaterThan:{same:"greaterThan",greaterThan:"greaterThan",lessThan:"iCannotKnow",iCannotKnow:"iCannotKnow"},lessThan:{same:"lessThan",greaterThan:"iCannotKnow",lessThan:"lessThan",iCannotKnow:"iCannotKnow"},same:{same:"same",greaterThan:"greaterThan",lessThan:"lessThan",iCannotKnow:"iCannotKnow"},iCannotKnow:{same:"iCannotKnow",greaterThan:"iCannotKnow",lessThan:"iCannotKnow",iCannotKnow:"iCannotKnow"}},od={same:"same",lessThan:"greaterThan",greaterThan:"lessThan",iCannotKnow:"iCannotKnow"};var I=(()=>{return(t=I||(I={})).identity="identity",t.trained="trained",t.mutuallyEntailed="mutually entailed",t.combinatoriallyEntailed="combinatorially entailed",I;var t})();class tt extends class{constructor(i,e){this.dest=e,this.src=i}toString(){return`${this.src}->${this.dest}`}}{constructor(i,e,n,l){super(i,e),this.relation=n,this.relationType=l}toString(){return`${this.src} ${this.relation} ${this.dest} (${this.relationType})`}}var Ri=c(5427),cd=c(2753);const Pt=function(t,i,e,n){var l=!e;e||(e={});for(var r=-1,o=i.length;++r<o;){var a=i[r],u=n?n(e[a],t[a],a,e,t):void 0;void 0===u&&(u=t[a]),l?(0,cd.Z)(e,a,u):(0,Ri.Z)(e,a,u)}return e};var md=c(8474),he=c(4214),Li=c(1550);var vd=Object.prototype.hasOwnProperty;const Cd=function(t){if(!(0,he.Z)(t))return function(t){var i=[];if(null!=t)for(var e in Object(t))i.push(e);return i}(t);var i=(0,Li.Z)(t),e=[];for(var n in t)"constructor"==n&&(i||!vd.call(t,n))||e.push(n);return e};var wd=c(8402);const me=function(t){return(0,wd.Z)(t)?(0,md.Z)(t,!0):Cd(t)};var Oi="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ei=Oi&&"object"==typeof module&&module&&!module.nodeType&&module,Bi=Ei&&Ei.exports===Oi?J.Z.Buffer:void 0,Ii=Bi?Bi.allocUnsafe:void 0;var Td=c(6889);const ki=(0,c(4184).Z)(Object.getPrototypeOf,Object),Pi=Object.getOwnPropertySymbols?function(t){for(var i=[];t;)xi(i,re(t)),t=ki(t);return i}:vi,Yd=function(t){return yi(t,me,Pi)};var Hd=Object.prototype.hasOwnProperty;const pe=function(t){var i=new t.constructor(t.byteLength);return new Bt(i).set(new Bt(t)),i};var Ud=/\w*$/;var Yi=Et.Z?Et.Z.prototype:void 0,ji=Yi?Yi.valueOf:void 0;const Au=function(t,i,e){var n=t.constructor;switch(i){case"[object ArrayBuffer]":return pe(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return function(t,i){var e=i?pe(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,i){var e=i?pe(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return function(t){var i=new t.constructor(t.source,Ud.exec(t));return i.lastIndex=t.lastIndex,i}(t);case"[object Set]":return new n;case"[object Symbol]":return function(t){return ji?Object(ji.call(t)):{}}(t)}};var Hi=Object.create;const wu=function(){function t(){}return function(i){if(!(0,he.Z)(i))return{};if(Hi)return Hi(i);t.prototype=i;var e=new t;return t.prototype=void 0,e}}();var Vi=c(1162),Yt=c(8514),Ni=Yt.Z&&Yt.Z.isMap;const Tu=Ni?(0,Vi.Z)(Ni):function(t){return(0,kt.Z)(t)&&"[object Map]"==wt(t)};var $i=Yt.Z&&Yt.Z.isSet;const Eu=$i?(0,Vi.Z)($i):function(t){return(0,kt.Z)(t)&&"[object Set]"==wt(t)};var zi="[object Arguments]",Qi="[object Function]",Ui="[object Object]",w={};w[zi]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w[Ui]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w[Qi]=w["[object WeakMap]"]=!1;const oc=function jt(t,i,e,n,l,r){var o,a=1&i,u=2&i,m=4&i;if(e&&(o=l?e(t,n,l,r):e(t)),void 0!==o)return o;if(!(0,he.Z)(t))return t;var C=(0,vt.Z)(t);if(C){if(o=function(t){var i=t.length,e=new t.constructor(i);return i&&"string"==typeof t[0]&&Hd.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!a)return(0,Td.Z)(t,o)}else{var y=wt(t),f=y==Qi||"[object GeneratorFunction]"==y;if((0,fe.Z)(t))return function(t,i){if(i)return t.slice();var e=t.length,n=Ii?Ii(e):new t.constructor(e);return t.copy(n),n}(t,a);if(y==Ui||y==zi||f&&!l){if(o=u||f?{}:function(t){return"function"!=typeof t.constructor||(0,Li.Z)(t)?{}:wu(ki(t))}(t),!a)return u?function(t,i){return Pt(t,Pi(t),i)}(t,function(t,i){return t&&Pt(i,me(i),t)}(o,t)):function(t,i){return Pt(t,re(t),i)}(t,function(t,i){return t&&Pt(i,(0,oe.Z)(i),t)}(o,t))}else{if(!w[y])return l?t:{};o=Au(t,y,a)}}r||(r=new Lt);var S=r.get(t);if(S)return S;r.set(t,o),Eu(t)?t.forEach(function(L){o.add(jt(L,i,e,L,t,r))}):Tu(t)&&t.forEach(function(L,v){o.set(v,jt(L,i,e,v,t,r))});var G=C?void 0:(m?u?Yd:ae:u?me:oe.Z)(t);return function(t,i){for(var e=-1,n=null==t?0:t.length;++e<n&&!1!==i(t[e],e,t););}(G||t,function(L,v){G&&(L=t[v=L]),(0,Ri.Z)(o,v,jt(L,i,e,v,t,r))}),o},Ki=function(t){return oc(t,5)};class gc extends class{constructor(){this.edges=new Map,this.nodes=new Set}addEdge(i){var e;const n=i.src,l=i.dest;if(!this.hasNode(n))throw Error(`addEdge failed source node "${n.toString()}" is not in graph.`);if(!this.hasNode(l))throw Error(`addEdge failed destination node "${l.toString()}" is not in graph.`);if(null===(e=this.edges.get(i.src))||void 0===e?void 0:e.some(r=>r.src===n&&r.dest===l))throw Error(`Add edge failed an edge already exists with src ${n.toString()} => dest ${l.toString()}`);this.edges.set(i.src,this.edges.get(i.src).concat(i))}addNode(i){if(this.nodes.has(i))throw Error(`addNode failed node "${i.toString()}" already exists`);this.nodes.add(i),this.edges.set(i,[])}findPathway(i,e,n,l={nodes:[],edges:[]},r=[]){if(l.nodes=l.nodes.concat(i),n&&(l.edges=l.edges.concat(n)),i===e)return r.concat(l);for(const o of this.getEdgesForNode(i))if(!l.nodes.map(a=>a.toString()).includes(o.dest.toString())){const a=this.findPathway(o.dest,e,o,Ki(l),r);a&&(r=r.concat(a))}return r}getEdgesForNode(i){return this.edges.get(i)||[]}hasNode(i){return this.nodes.has(i)}toString(){return Array.from(this.edges.values()).flat().filter(Boolean).map(i=>i.toString()).join("\n")}}{constructor(i,e,n,l){super(),this.includeRelationsBetweenNetworks=!1,this.selfRelation=i,this.unknownRelation=e,this.reverseDictionary=n,this.combinatorialDictionary=l}get combinatoriallyEntailed(){const i=[],e=[...this.nodes];for(const n of e)for(const l of e){if(n===l||!this.includeRelationsBetweenNetworks&&n.network!==l.network||this.getEdgesForNode(n).find(o=>o.dest===l))continue;const r=this.findPathway(n,l).map(o=>o.edges.map(a=>a.relation)).reduce((o,a,u)=>{const m=[...a];let C=m.shift();for(;m.length;){const y=m.shift();C=this.combinatorialDictionary[C][y]}return o.push(C),a.length=0,o},[]);0===r.length&&r.push(this.unknownRelation),[...new Set(r.filter(o=>o!==this.unknownRelation))].length>1?console.warn(`Multiple relations detected for ${n.toString()} => ${l.toString()} comparison`,r):i.push({relation:r[0],relationType:I.combinatoriallyEntailed,stimuli:[n,l]})}return i}get identities(){return[...this.nodes].map(i=>({relation:this.selfRelation,relationType:I.identity,stimuli:[i,i]}))}get mutuallyEntailed(){return[...this.edges.values()].flat().filter(i=>i.relationType===I.mutuallyEntailed).map(i=>({relation:i.relation,relationType:i.relationType,stimuli:[i.src,i.dest]}))}get trained(){return[...this.edges.values()].flat().filter(i=>i.relationType===I.trained).map(i=>({relation:i.relation,relationType:i.relationType,stimuli:[i.src,i.dest]}))}addTrainedAndMutualRelations(i){var e,n;const l=i.src,r=i.dest;if(!this.hasNode(l))throw Error(`Add edge failed source node "${l.toString()}" is not in graph.`);if(!this.hasNode(r))throw Error(`Add edge failed destination node "${r.toString()}" is not in graph.`);if(!(null===(e=this.reverseDictionary)||void 0===e?void 0:e[i.relation]))throw Error(`Could not find inverse of relation ${i.relation}`);if(null===(n=this.edges.get(i.src))||void 0===n?void 0:n.some(o=>o.src===l&&o.dest===r))throw Error(`Add edge failed an edge already exists with src ${l.toString()} => dest ${r.toString()}`);this.edges.set(i.src,this.edges.get(i.src).concat(i)),this.edges.set(i.dest,this.edges.get(i.dest).concat(new tt(i.dest,i.src,this.reverseDictionary[i.relation],I.mutuallyEntailed)))}findPathway(i,e,n,l={nodes:[],edges:[]},r=[]){if(l.nodes=l.nodes.concat(i),n&&(l.edges=l.edges.concat(n)),i===e)return r.concat(l);for(const o of this.getEdgesForNode(i))if(!l.nodes.map(a=>a.toString()).includes(o.dest.toString())){const a=this.findPathway(o.dest,e,o,Ki(l),r);a&&(r=r.concat(a))}return r}toString(){return[].concat(this.identities,this.trained,this.mutuallyEntailed,this.combinatoriallyEntailed).flat().map(i=>`${i.relationType}: ${i.stimuli[0]} ${i.relation} ${i.stimuli[1]}`).join("\n")}}class ut{constructor(i,e,n=""){this.name=i,this.network=e,this.value=n}repr(){return`new RelationalFrameNode('${this.name}','${this.network}','${this.value}')`}toString(){return`${this.name}${this.network}`}}var Y=c(2745);const xe=["RWK","PGZ","QGK","FNK","ZVB","PWU","PLJ","KNF","GVW","KXL","GRQ","WPQ","BQP","FXX","ZTF","SGG","GQF","VXO","DZF","ZHD","JHH","VQP","JXY","ZVS","HGD","FJX","VHK","JTP","JTS","UHJ","WTZ","CXF","XFH","LWK","NWK","ZRG","FDG","NQC","WPW","YVR","HLJ","WBX","VGH","KXW","XAQ","WQG","DGJ","QUZ","QZX","HWL","DKX","ZDW","RZJ","VGJ","VWL","MKP","JFJ","GQY","BRX","IHG","YVP","SXG","FJC","QKU","WZY","QHJ","YTZ","RHF","YYB","QFH","ZUX","TQT","VZZ","BTQ","DHQ","XLW","VLW","VZJ","GGK","SWK","UFH","GPN","JSX","IQP","QUP","XDG","QWN","CBK","JVH","VXG","YBF","BVY","QZW","UPZ","WMX","XVN","RRX","QTX","DZN","WXP"];function ct(t){const i=di(xe);if(void 0===i)throw Error('Random value returned "undefined"!');const e=xe.indexOf(i);return e>-1&&xe.splice(e,1),t===ui.lower?i.toLowerCase():i.toUpperCase()}const P=150,et=2850,z=500,Wi={stimuli:[z,2*z],cues:Array(5).fill(3*z)},Ae=Math.max(...Object.values(Wi).flat())+1e3;var hc=c(2151);const Ht=(t,i)=>t?Ht(i%t,t):i,pc=(t,i)=>t*i/Ht(t,i);class xc extends class{constructor(i,e){this.attempts=0,this.correct=0,this.feedBackShown=!1,this.history=[],this.incorrect=0,this.index=-1,this.trials=[],this.name=i,this.config=e}get isLastTrial(){return this.index===this.trials.length-1}get percentCorrect(){return this.correct/this.trialNum*100}get trial(){return this.trials[this.index]}get trialNum(){return this.index+1}complete(){var i,e;this.attempts++,this.completed=new Date,null===(i=this.component)||void 0===i||i.prompt("BLOCK COMPLETE",!0,z+(this.feedBackShown?et:P)).subscribe(),null===(e=this.component)||void 0===e||e.completed.emit()}cueSelected(i){var e,n,l;this.history.push(Object.assign(Object.assign({},this.trial),{selected:i})),this.isLastTrial&&(null===(e=this.component)||void 0===e||e.setVisibility(!1));const r=this.grade(i);i?r&&this.feedbackEnabled()?(null===(l=this.component)||void 0===l||l.showFeedback(r),this.feedBackShown=!0):this.feedBackShown=!1:(null===(n=this.component)||void 0===n||n.showFeedback("TIME EXPIRED"),this.feedBackShown=!0),this.nextTrial()}failed(){var i,e;null===(i=this.component)||void 0===i||i.setVisibility(!1),null===(e=this.component)||void 0===e||e.prompt("THANKS FOR PARTICIPATING",!0,z+(this.feedBackShown?et:P)).subscribe()}feedbackEnabled(){return!1}grade(i){const e=(null==i?void 0:i.cue.value)===this.trial.relation;return(null==i?void 0:i.cue.value)===this.trial.relation?this.correct++:this.incorrect++,console.log("correct",this.correct),console.log("incorrect",this.incorrect),console.log("correctPercentage",this.percentCorrect),e?"CORRECT":"WRONG"}nextTrial(){var i,e;-1===this.index&&(this.started=new Date),this.index!==this.trials.length-1?(this.index++,null===(i=this.component)||void 0===i||i.showTrial(this.trial,this.feedBackShown?et:0),null===(e=this.component)||void 0===e||e.trialCompleted.pipe((0,oi.P)()).subscribe(n=>this.cueSelected(n))):this.complete()}reset(){this.index=-1,this.correct=0,this.incorrect=0,this.trials=this.createTrials()}start(i){this.component=i,0===this.trials.length&&this.reset(),i.prompt("CLICK TO START",!1,z).subscribe(()=>this.nextTrial())}}{constructor(i){super("Operant Choice",i),this.containsSequentialTriplicates=!1,this.correctCount={different:0,same:0,greaterThan:0,lessThan:0,iCannotKnow:0},this.incorrectCount={different:0,same:0,greaterThan:0,lessThan:0,iCannotKnow:0},this.maxShuffles=2500,this.numAllottedTimeouts=1,this.numTimeouts=0,this.sequentialCorrect=0,this.stimuliComparisonCopies=2,this.graph=this.createGraph(i)}get isComplete(){return this.sequentialCorrect>=2*this.trials.length}complete(){this.timeout&&clearTimeout(this.timeout),super.complete()}createGraph(i){const e=new gc("same","iCannotKnow",od,rd);e.includeRelationsBetweenNetworks=!0;const n=new ut("A",1,ct(i.stimulusCase)),l=new ut("B",1,ct(i.stimulusCase)),r=new ut("C",1,ct(i.stimulusCase));e.addNode(n),e.addNode(l),e.addNode(r),e.addTrainedAndMutualRelations(new tt(n,l,"same",I.trained)),e.addTrainedAndMutualRelations(new tt(n,r,"same",I.trained)),e.addTrainedAndMutualRelations(new tt(l,r,"same",I.trained));const o=new ut("A",2,ct(i.stimulusCase)),a=new ut("B",2,ct(i.stimulusCase)),u=new ut("C",2,ct(i.stimulusCase));return e.addNode(o),e.addNode(a),e.addNode(u),e.addTrainedAndMutualRelations(new tt(o,a,"greaterThan",I.trained)),e.addTrainedAndMutualRelations(new tt(o,u,"greaterThan",I.trained)),e.addTrainedAndMutualRelations(new tt(a,u,"greaterThan",I.trained)),console.log(e.toString()),e}createTrials(){var i,e;const n=[this.graph.trained,this.graph.mutuallyEntailed].flat().concat(this.config.iCannotKnow?this.graph.combinatoriallyEntailed:[]),l=Y.Tz.reduce((f,S)=>Object.assign(Object.assign({},f),{[S]:n.filter(b=>b.relation===S)}),{}),r=Y.Tz.reduce((f,S)=>Object.assign(Object.assign({},f),{[S]:n.filter(b=>b.relation===S).length}),{}),o=Object.values(r).filter(f=>f>0).reduce(pc),a=Y.Tz.reduce((f,S)=>Object.assign(Object.assign({},f),{[S]:o/n.filter(b=>b.relation===S).length}),{});console.log("CUE BY STIMULI",l),console.log("CUE COUNT BY STIMULI",r),console.log("CUE MULTIPLIER BY STIMULI",a);const u=Object.values(this.config.balance).filter(f=>f).reduce(Ht),m={different:0,same:this.config.balance.same/u,greaterThan:this.config.balance.greaterThan/u,lessThan:this.config.balance.lessThan/u,iCannotKnow:(null===(i=this.config.balance)||void 0===i?void 0:i.iCannotKnow)?this.config.balance.iCannotKnow/u:0};console.log("balance",m);const C={different:0,same:this.config.balance.same*a.same,greaterThan:this.config.balance.greaterThan*a.greaterThan,lessThan:this.config.balance.lessThan*a.lessThan,iCannotKnow:(null===(e=this.config.balance)||void 0===e?void 0:e.iCannotKnow)?this.config.balance.iCannotKnow*a.iCannotKnow:0},y=Object.values(C).filter(f=>f).reduce(Ht);for(const f of Y.Tz){if(0===r[f])continue;const S=C[f]/y*this.stimuliComparisonCopies;for(let b=0;b<S;b++)this.trials=this.trials.concat(l[f].flat().map(G=>{return Object.assign(Object.assign({},G),{cueComponentConfigs:(t=this.config,(0,ci.Z)(t.iCannotKnow?Y.Tz:Y.do).map(e=>({isArbitrary:t.cueType===Y.j8.arbitrary,fileName:t.cueType===Y.j8.nonArbitrary?Y.Sg:Y.FC[e],value:e,viewValue:hc.upper(e)})))});var t}))}return this.shuffleUntilNoTriplicatesInARow(),console.log(this.trials.length),this.trials}failed(){var i,e;null===(i=this.component)||void 0===i||i.setVisibility(!1),null===(e=this.component)||void 0===e||e.prompt("THANKS FOR PARTICIPATING",!0,z+(this.feedBackShown?et:P)).subscribe()}feedbackEnabled(){return!0}grade(i){const e=(null==i?void 0:i.cue.value)===this.trial.relation;return(null==i?void 0:i.cue.value)===this.trial.relation?(this.correct++,this.sequentialCorrect++,this.correctCount[i.cue.value]++):(this.sequentialCorrect=0,this.incorrect++,(null==i?void 0:i.cue.value)&&this.incorrectCount[i.cue.value]++),console.log("correct",this.correctCount),console.log("incorrect",this.incorrectCount),console.log("sequentialCorrect",this.sequentialCorrect),console.log("correctPercentage",this.percentCorrect),e?"CORRECT":"WRONG"}nextTrial(){0===this.trialNum&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.numTimeouts++,this.numTimeouts>this.numAllottedTimeouts?this.failed():this.retry()},2*this.trials.length*(1e3*this.config.trialTimeoutSeconds+3e3))),super.nextTrial()}reset(){this.correctCount={different:0,same:0,greaterThan:0,lessThan:0,iCannotKnow:0},this.incorrectCount={different:0,same:0,greaterThan:0,lessThan:0,iCannotKnow:0},super.reset()}retry(){var i,e;this.attempts++,null===(i=this.component)||void 0===i||i.setVisibility(!1),null===(e=this.component)||void 0===e||e.prompt("CLICK TO TRY AGAIN",!1,z+(this.feedBackShown?et:P)).subscribe(()=>{var n;this.feedBackShown=!1,null===(n=this.component)||void 0===n||n.setVisibility(!0,0),this.nextTrial()}),this.reset()}shuffleUntilNoTriplicatesInARow(){let i,e=0;for(let n=0;n<this.maxShuffles;n++){this.trials=(0,ci.Z)(this.trials);for(const l of this.trials)if(ld(l.stimuli,null==i?void 0:i.stimuli)?e++:(i=l,e=0),3===e)break;if(e)break}e>=3&&(this.containsSequentialTriplicates=!0)}}class yc{constructor(i){this.blocks=[],this.config=i,this.blocks=[new xc(i)]}}let Vt=(()=>{class t{constructor(e){this.configSvc=e}get trialTimeoutSeconds(){if(!this.conditions)throw Error("conditions not defined");return this.conditions.config.trialTimeoutSeconds}blocks$(){return this.configSvc.config$().pipe((0,kr.U)(e=>(this.conditions=new yc(Object.assign(Object.assign({},e),{stimulusCase:Qr()})),this.conditions.blocks)))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Pr.R))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Nt(t){return(0,A.X$)((null==t?void 0:t.anchor)||"fadeOut",[(0,A.SB)("false",(0,A.oB)({visibility:"visible",opacity:1})),(0,A.SB)(":leave",(0,A.oB)({visibility:"visible",opacity:1})),(0,A.SB)("true",(0,A.oB)({visibility:"hidden",opacity:0})),(0,A.eR)("void => *",(0,A.jt)(0)),(0,A.eR)("* => true",(0,A.jt)("{{duration}}ms {{delay}}ms ease-in"),{params:{duration:(null==t?void 0:t.duration)||1e3,delay:(null==t?void 0:t.delay)||0}})])}const vc=function(t,i){return{value:t,params:i}};let Ac=(()=>{class t{constructor(e,n){this.data=e,this.ref=n,this.animated=!1,setTimeout(()=>this.animated=!0,0),setTimeout(()=>this.ref.close(),this.data.durationMs)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(ne),s.Y36(yt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-correct-dialog"]],decls:3,vars:5,consts:[[1,"vw-100","vh-100","d-flex","justify-content-center","align-items-center","bg-white"],[1,"overlay-dynamic-text","user-select-none"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"strong",1),s._uU(2),s.qZA(),s.qZA()),2&e&&(s.Q6J("@fadeOut",s.WLB(2,vc,n.animated,n.data.animationParams)),s.xp6(2),s.Oqu(n.data.feedback))},styles:[".overlay-dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,8vw,15rem);white-space:nowrap}"],data:{animation:[Nt()]}}),t})();var gt=c(4762),$t=c(9524),Cc=c(409);function qi(t){return(0,A.X$)((null==t?void 0:t.anchor)||"fadeIn",[(0,A.SB)("void",(0,A.oB)({visibility:"hidden",opacity:0})),(0,A.SB)("false",(0,A.oB)({visibility:"hidden",opacity:0})),(0,A.SB)("true",(0,A.oB)({visibility:"visible",opacity:1})),(0,A.eR)("* => true",(0,A.jt)("{{duration}}ms {{delay}}ms ease-in"),{params:{duration:(null==t?void 0:t.duration)||1e3,delay:(null==t?void 0:t.delay)||0}})])}function Ce(t){return(0,se.H)(t).toPromise()}const wc=function(t){return{delay:t}},_c=function(t,i){return{value:t,params:i}},Dc=function(t){return{"d-none":t}},Sc=function(t){return{"pointer-events":t}};let Ji=(()=>{class t{constructor(){this.animationDelay=0,this.disabled=!1,this.selected=new s.vpe}select(){this.disabled=!0,this.selected.emit(this.config)}set(e){return(0,gt.mG)(this,void 0,void 0,function*(){this.animate="fade-out",yield Ce(P),this.disabled=!1,this.config=e,this.animate="fade-in"})}tap(){this.disabled=!0,this.selected.emit(this.config)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-cue"]],inputs:{animationDelay:"animationDelay"},outputs:{selected:"selected"},decls:2,vars:17,consts:[["matRipple","",1,"trial-item","dynamic-text",3,"matRippleDisabled","ngClass","ngStyle","tap"]],template:function(e,n){1&e&&(s.TgZ(0,"button",0),s.NdJ("tap",function(){return!n.disabled&&n.select()}),s._uU(1),s.qZA()),2&e&&(s.Udp("background-image",null==n.config?null:n.config.fileName),s.Q6J("@fadeIn",s.WLB(10,_c,"fade-in"===n.animate,s.VKq(8,wc,n.animationDelay)))("@fadeOut","fade-out"===n.animate)("matRippleDisabled",n.disabled)("ngClass",s.VKq(13,Dc,void 0===n.config))("ngStyle",s.VKq(15,Sc,null!=n.config&&n.config.value?"all":"none")),s.xp6(1),s.hij(" ",null!=n.config&&n.config.isArbitrary?"\xa0":(null==n.config?null:n.config.viewValue)||"","\n"))},directives:[q.wG,h.mk,h.PC],styles:["[_nghost-%COMP%]{display:block}button.trial-item[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;aspect-ratio:2;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-weight:bold;font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}",""],data:{animation:[qi(),Nt({duration:P})]}}),t})();const bc=function(t){return{delay:t}},Fc=function(t,i){return{value:t,params:i}};let Xi=(()=>{class t{constructor(){this.animationDelay=0}set(e){return(0,gt.mG)(this,void 0,void 0,function*(){this.animate="fade-out",yield Ce(P),this.backgroundImage=Y.Sg,this.cue=e,this.animate="fade-in"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-stimulus"]],inputs:{animationDelay:"animationDelay"},decls:2,vars:10,consts:[[1,"trial-item","dynamic-text"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0),s._uU(1),s.qZA()),2&e&&(s.Udp("background-image",n.backgroundImage),s.Q6J("@fadeIn",s.WLB(7,Fc,"fade-in"===n.animate,s.VKq(5,bc,n.animationDelay)))("@fadeOut","fade-out"===n.animate),s.xp6(1),s.hij(" ",n.cue,"\n"))},styles:["[_nghost-%COMP%]{display:block}button.trial-item[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;aspect-ratio:2;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-weight:bold;font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}",""],data:{animation:[qi(),Nt({duration:P})]}}),t})();function Mc(t,i){1&t&&s._UZ(0,"trial-stimulus",4),2&t&&s.Q6J("animationDelay",i.$implicit)}function Tc(t,i){if(1&t){const e=s.EpF();s.TgZ(0,"trial-cue",5),s.NdJ("selected",function(l){const o=s.CHM(e).index;return s.oxw().selected(l,o+1)}),s.qZA()}2&t&&s.Q6J("animationDelay",i.$implicit)}let Q=class{constructor(i){this.conditionSvc=i,this.animationDelayMs=Wi,this.complete=!1,this.completed=new s.vpe,this.secondsInTrial=0}ngAfterViewInit(){this.trialCueComponents.changes.pipe((0,$t.t)(this)).subscribe(),this.trialStimulusComponents.changes.pipe((0,$t.t)(this)).subscribe()}selected(i,e){var n;null===(n=this.timerSub)||void 0===n||n.unsubscribe(),this.completed.emit({cue:i,position:e})}setTimer(){this.timerSub&&this.timerSub.unsubscribe(),this.secondsInTrial=0,this.timerSub=(0,se.H)(Ae,1e3).pipe((0,Cc.o)(()=>this.secondsInTrial<this.conditionSvc.trialTimeoutSeconds),(0,K.b)(()=>{this.secondsInTrial++,this.secondsInTrial==this.conditionSvc.trialTimeoutSeconds&&this.completed.emit()}),(0,$t.t)(this)).subscribe()}show(i){var e,n;console.log(i),this.setTimer();for(const[l,r]of i.stimuli.entries())null===(e=this.trialStimulusComponents.get(l))||void 0===e||e.set(r.value);for(let l=0;l<this.trialCueComponents.length;l++)null===(n=this.trialCueComponents.get(l))||void 0===n||n.set(i.cueComponentConfigs[l])}};Q.\u0275fac=function(i){return new(i||Q)(s.Y36(Vt))},Q.\u0275cmp=s.Xpm({type:Q,selectors:[["trial"]],viewQuery:function(i,e){if(1&i&&(s.Gf(Ji,5),s.Gf(Xi,5)),2&i){let n;s.iGM(n=s.CRH())&&(e.trialCueComponents=n),s.iGM(n=s.CRH())&&(e.trialStimulusComponents=n)}},outputs:{completed:"completed"},decls:4,vars:2,consts:[[1,"trial-sample-stimuli"],[3,"animationDelay",4,"ngFor","ngForOf"],[1,"trial-buttons"],[3,"animationDelay","selected",4,"ngFor","ngForOf"],[3,"animationDelay"],[3,"animationDelay","selected"]],template:function(i,e){1&i&&(s.TgZ(0,"div",0),s.YNc(1,Mc,1,1,"trial-stimulus",1),s.qZA(),s.TgZ(2,"div",2),s.YNc(3,Tc,1,1,"trial-cue",3),s.qZA()),2&i&&(s.xp6(1),s.Q6J("ngForOf",e.animationDelayMs.stimuli),s.xp6(2),s.Q6J("ngForOf",e.animationDelayMs.cues))},directives:[h.sg,Xi,Ji],styles:["[_nghost-%COMP%]{display:block}button.trial-item[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;aspect-ratio:2;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-weight:bold;font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}"]}),Q=(0,gt.gn)([(0,$t.c)(),(0,gt.w6)("design:paramtypes",[Vt])],Q);let Gc=(()=>{class t{constructor(e,n){this.data=e,this.ref=n,this.animated=!1,this.disableClose=Boolean(this.data.disableClose)}close(){return(0,gt.mG)(this,void 0,void 0,function*(){this.animated=!0,yield Ce(P),this.ref.close()})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(ne),s.Y36(yt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["block-start-dialog"]],decls:3,vars:3,consts:[["matRipple","",1,"vw-100","vh-100","d-flex","justify-content-center","align-items-center","bg-white",3,"matRippleDisabled","tap"],[1,"overlay-dynamic-text","user-select-none"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0),s.NdJ("tap",function(){return!1===n.disableClose&&n.close()}),s.TgZ(1,"strong",1),s._uU(2),s.qZA(),s.qZA()),2&e&&(s.Q6J("@fadeOut",n.animated)("matRippleDisabled",n.animated||n.disableClose),s.xp6(2),s.Oqu(n.data.text))},directives:[q.wG],styles:[".overlay-dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,8vw,15rem);line-height:clamp(1rem,8vw,15rem);text-align:center}"],data:{animation:[Nt({duration:P})]}}),t})();function tn(t){return{data:t,disableClose:!0,hasBackdrop:!1,closeOnNavigation:!0,height:"100vh",maxHeight:"100vh",maxWidth:"100vw",panelClass:["fullscreen-dialog-container","animate__animated","animate__fadeIn"],width:"100vw"}}function Rc(t,i){if(1&t){const e=s.EpF();s.TgZ(0,"trial",1),s.NdJ("completed",function(l){return s.CHM(e),s.oxw().trialCompleted.emit(l)}),s.qZA()}}let we=(()=>{class t{constructor(e,n){this.conditionSvc=e,this.dialog=n,this.completed=new s.vpe,this.conditions=this.conditionSvc.conditions,this.isVisible=!0,this.trialCompleted=new s.vpe}prompt(e,n=!1,l=Ae){return(0,se.H)(l).pipe((0,oi.P)(),(0,Ir.w)(()=>this.dialog.open(Gc,tn({text:e,disableClose:n})).afterClosed()))}setVisibility(e,n=Ae){setTimeout(()=>this.isVisible=e,n)}showFeedback(e,n=3e3,l={delay:et,duration:P}){this.dialog.open(Ac,tn({animationParams:l,durationMs:n,feedback:e}))}showTrial(e,n=et){setTimeout(()=>{var l;return null===(l=this.trialComponent)||void 0===l?void 0:l.show(e)},n)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Vt),s.Y36(Mt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["block"]],viewQuery:function(e,n){if(1&e&&s.Gf(Q,5),2&e){let l;s.iGM(l=s.CRH())&&(n.trialComponent=l.first)}},outputs:{completed:"completed",trialCompleted:"trialCompleted"},decls:1,vars:1,consts:[[3,"completed",4,"ngIf"],[3,"completed"]],template:function(e,n){1&e&&s.YNc(0,Rc,1,0,"trial",0),2&e&&s.Q6J("ngIf",n.isVisible)},styles:[""],data:{animation:[]}}),t})(),Lc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Br,h.ez,ii,Tr,Er]]}),t})();s.B6R(we,[h.O5,Q],[]);var en=c(1896);const Oc=[{path:"",component:(()=>{class t{constructor(e){this.conditionsSvc=e,this.blocks=[],this.completed=new s.vpe}nextBlock(){var e;this.blocks.length>0?null===(e=this.blocks.shift())||void 0===e||e.start(this.blockComponent):this.completed.emit()}ngOnInit(){return(0,gt.mG)(this,void 0,void 0,function*(){this.blocks=yield this.conditionsSvc.blocks$().toPromise(),this.nextBlock()})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Vt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["study"]],viewQuery:function(e,n){if(1&e&&s.Gf(we,7),2&e){let l;s.iGM(l=s.CRH())&&(n.blockComponent=l.first)}},decls:1,vars:0,consts:[[3,"completed"]],template:function(e,n){1&e&&(s.TgZ(0,"block",0),s.NdJ("completed",function(){return n.nextBlock()}),s.qZA())},directives:[we],styles:["[_nghost-%COMP%]{-webkit-box-align:center;-webkit-box-pack:center;align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;width:100%}"]}),t})()}];let Ec=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[en.Bz.forChild(Oc)],en.Bz]}),t})(),Bc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[h.ez,Ec,Lc]]}),t})()},2151:function(Kt){(function(){"use strict";var U=function(d,g){return d.replace(/(^|-)/g,"$1\\u"+(g=g||"")).replace(/,/g,"\\u"+g)},c=U("20-26,28-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7","00"),h="a-z"+U("DF-F6,F8-FF","00"),s="A-Z"+U("C0-D6,D8-DE","00"),_t=function(d,g,x,T){return d=d||c,g=g||h,x=x||s,T=T||"A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\.?|Via",{capitalize:new RegExp("(^|["+d+"])(["+g+"])","g"),pascal:new RegExp("(^|["+d+"])+(["+g+x+"])","g"),fill:new RegExp("["+d+"]+(.|$)","g"),sentence:new RegExp('(^\\s*|[\\?\\!\\.]+"?\\s+"?|,\\s+")(['+g+"])","g"),improper:new RegExp("\\b("+T+")\\b","g"),relax:new RegExp("([^"+x+"])(["+x+"]*)(["+x+"])(?=[^"+x+"]|$)","g"),upper:new RegExp("^[^"+g+"]+$"),hole:/[^\s]\s[^\s]/,apostrophe:/'/g,room:new RegExp("["+d+"]")}},B=_t(),p={re:B,unicodes:U,regexps:_t,types:[],up:String.prototype.toUpperCase,low:String.prototype.toLowerCase,cap:function(d){return p.up.call(d.charAt(0))+d.slice(1)},decap:function(d){return p.low.call(d.charAt(0))+d.slice(1)},deapostrophe:function(d){return d.replace(B.apostrophe,"")},fill:function(d,g,x){return null!=g&&(d=d.replace(B.fill,function(T,E){return E?g+E:""})),x&&(d=p.deapostrophe(d)),d},prep:function(d,g,x,T){if(d=null==d?"":d+"",!T&&B.upper.test(d)&&(d=p.low.call(d)),!g&&!B.hole.test(d)){var E=p.fill(d," ");B.hole.test(E)&&(d=E)}return!x&&!B.room.test(d)&&(d=d.replace(B.relax,p.relax)),d},relax:function(d,g,x,T){return g+" "+(x?x+" ":"")+T}},_={_:p,of:function(d){for(var g=0,x=p.types.length;g<x;g++)if(_[p.types[g]].apply(_,arguments)===d)return p.types[g]},flip:function(d){return d.replace(/\w/g,function(g){return(g==p.up.call(g)?p.low:p.up).call(g)})},random:function(d){return d.replace(/\w/g,function(g){return(Math.round(Math.random())?p.up:p.low).call(g)})},type:function(d,g){_[d]=g,p.types.push(d)}},K={lower:function(d,g,x){return p.fill(p.low.call(p.prep(d,g)),g,x)},snake:function(d){return _.lower(d,"_",!0)},constant:function(d){return _.upper(d,"_",!0)},camel:function(d){return p.decap(_.pascal(d))},kebab:function(d){return _.lower(d,"-",!0)},upper:function(d,g,x){return p.fill(p.up.call(p.prep(d,g,!1,!0)),g,x)},capital:function(d,g,x){return p.fill(p.prep(d).replace(B.capitalize,function(T,E,O){return E+p.up.call(O)}),g,x)},header:function(d){return _.capital(d,"-",!0)},pascal:function(d){return p.fill(p.prep(d,!1,!0).replace(B.pascal,function(g,x,T){return p.up.call(T)}),"",!0)},title:function(d){return _.capital(d).replace(B.improper,function(g,x,T,E){return T>0&&T<E.lastIndexOf(" ")?p.low.call(g):g})},sentence:function(d,g,x){return d=_.lower(d).replace(B.sentence,function(T,E,O){return E+p.up.call(O)}),g&&g.forEach(function(T){d=d.replace(new RegExp("\\b"+_.lower(T)+"\\b","g"),p.cap)}),x&&x.forEach(function(T){d=d.replace(new RegExp("(\\b"+_.lower(T)+"\\. +)(\\w)"),function(E,O,H){return O+p.low.call(H)})}),d}};for(var Dt in K.squish=K.pascal,_.default=_,K)_.type(Dt,K[Dt]);var ft="function"==typeof ft?ft:function(){};ft(Kt.exports?Kt.exports=_:this.Case=_)}).call(this)}}]);