"use strict";(self.webpackChunkknown_unknowns_multiple_exemplar_experiment=self.webpackChunkknown_unknowns_multiple_exemplar_experiment||[]).push([[69],{4069:(Xg,ie,c)=>{c.r(ie),c.d(ie,{StudyModule:()=>Jg});var u=c(8583),s=c(3018),O=c(9765),ne=(c(6215),c(7574)),I=(c(6682),c(5435)),re=c(3342);const rn={provide:s.tb,useFactory:function(t,i){return()=>{if((0,u.NF)(i)){const e=Array.from(t.querySelectorAll(`[class*=${le}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${le}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(n,"")})}}},deps:[u.K0,s.Lbi],multi:!0},le="flex-layout-";let Gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[rn]}),t})();const Ot={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},w=new s.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Ot}),j=new s.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Lt=new s.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});c(9490),c(6782),c(9075);let Me=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Gt]]}),t})();var et=c(946);let Re=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Gt,et.vT]]}),t})(),Ye=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Gt]]}),t})(),Ve=(()=>{class t{constructor(e,n){(0,u.PM)(n)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:w,useValue:Object.assign(Object.assign({},Ot),e)},{provide:Lt,useValue:n,multi:!0},{provide:j,useValue:!0}]:[{provide:w,useValue:Object.assign(Object.assign({},Ot),e)},{provide:Lt,useValue:n,multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(j),s.LFG(s.Lbi))},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Re,Me,Ye],Re,Me,Ye]}),t})();var P=c(625),Y=c(7636),T=c(2458),yl=c(1439),vl=c(5917),Et=c(5257),Al=c(9761),It=c(521),g=c(7238),He=c(6461),Qe=c(9238);function _l(t,i){}class kt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Cl={dialogContainer:(0,g.X$)("dialogContainer",[(0,g.SB)("void, exit",(0,g.oB)({opacity:0,transform:"scale(0.7)"})),(0,g.SB)("enter",(0,g.oB)({transform:"none"})),(0,g.eR)("* => enter",(0,g.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,g.oB)({transform:"none",opacity:1}))),(0,g.eR)("* => void, * => exit",(0,g.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,g.oB)({opacity:0})))])};let wl=(()=>{class t extends Y.en{constructor(e,n,r,l,o,a){super(),this._elementRef=e,this._focusTrapFactory=n,this._changeDetectorRef=r,this._config=o,this._focusMonitor=a,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=d=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(d)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const n=(0,It.ht)(),r=this._elementRef.nativeElement;(!n||n===this._document.body||n===r||r.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,It.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=(0,It.ht)();return e===n||e.contains(n)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(Qe.qV),s.Y36(s.sBO),s.Y36(u.K0,8),s.Y36(kt),s.Y36(Qe.tE))},t.\u0275dir=s.lG2({type:t,viewQuery:function(e,n){if(1&e&&s.Gf(Y.Pl,7),2&e){let r;s.iGM(r=s.CRH())&&(n._portalOutlet=r.first)}},features:[s.qOj]}),t})(),bl=(()=>{class t extends wl{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:n}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}_onAnimationStart({toState:e,totalTime:n}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:n}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:n})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let i;return function(n){return(i||(i=s.n5z(t)))(n||t)}}(),t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,n){1&e&&s.WFA("@dialogContainer.start",function(l){return n._onAnimationStart(l)})("@dialogContainer.done",function(l){return n._onAnimationDone(l)}),2&e&&(s.Ikx("id",n._id),s.uIk("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),s.d8E("@dialogContainer",n._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&s.YNc(0,_l,0,0,"ng-template",0)},directives:[Y.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Cl.dialogContainer]}}),t})(),Dl=0;class nt{constructor(i,e,n="mat-dialog-"+Dl++){this._overlayRef=i,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new O.xQ,this._afterClosed=new O.xQ,this._beforeClosed=new O.xQ,this._state=0,e._id=n,e._animationStateChanged.pipe((0,I.h)(r=>"opened"===r.state),(0,Et.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,I.h)(r=>"closed"===r.state),(0,Et.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe((0,I.h)(r=>r.keyCode===He.hY&&!this.disableClose&&!(0,He.Vb)(r))).subscribe(r=>{r.preventDefault(),jt(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():jt(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe((0,I.h)(e=>"closing"===e.state),(0,Et.q)(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let e=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",e=""){return this._overlayRef.updateSize({width:i,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function jt(t,i,e){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=i),t.close(e)}const Pt=new s.OlP("MatDialogData"),Sl=new s.OlP("mat-dialog-default-options"),ze=new s.OlP("mat-dialog-scroll-strategy"),Ml={provide:ze,deps:[P.aV],useFactory:function(t){return()=>t.scrollStrategies.block()}};let Gl=(()=>{class t{constructor(e,n,r,l,o,a,d,f,D){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=l,this._overlayContainer=o,this._dialogRefConstructor=d,this._dialogContainerType=f,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new O.xQ,this._afterOpenedAtThisLevel=new O.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,yl.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Al.O)(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,n){(n=function(t,i){return Object.assign(Object.assign({},i),t)}(n,this._defaultOptions||new kt)).id&&this.getDialogById(n.id);const r=this._createOverlay(n),l=this._attachDialogContainer(r,n),o=this._attachDialogContent(e,l,r,n);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),l._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const n=this._getOverlayConfig(e);return this._overlay.create(n)}_getOverlayConfig(e){const n=new P.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachDialogContainer(e,n){const l=s.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:kt,useValue:n}]}),o=new Y.C5(this._dialogContainerType,n.viewContainerRef,l,n.componentFactoryResolver);return e.attach(o).instance}_attachDialogContent(e,n,r,l){const o=new this._dialogRefConstructor(r,n,l.id);if(e instanceof s.Rgc)n.attachTemplatePortal(new Y.UE(e,null,{$implicit:l.data,dialogRef:o}));else{const a=this._createInjector(l,o,n),d=n.attachComponentPortal(new Y.C5(e,l.viewContainerRef,a));o.componentInstance=d.instance}return o.updateSize(l.width,l.height).updatePosition(l.position),o}_createInjector(e,n,r){const l=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:n}];return e.direction&&(!l||!l.get(et.Is,null,s.XFs.Optional))&&o.push({provide:et.Is,useValue:{value:e.direction,change:(0,vl.of)()}}),s.zs3.create({parent:l||this._injector,providers:o})}_removeOpenDialog(e){const n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,l)=>{r?l.setAttribute("aria-hidden",r):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){let l=n[r];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(P.aV),s.Y36(s.zs3),s.Y36(void 0),s.Y36(void 0),s.Y36(P.Xj),s.Y36(void 0),s.Y36(s.DyG),s.Y36(s.DyG),s.Y36(s.OlP))},t.\u0275dir=s.lG2({type:t}),t})(),xt=(()=>{class t extends Gl{constructor(e,n,r,l,o,a,d){super(e,n,l,a,d,o,nt,bl,Pt)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(P.aV),s.LFG(s.zs3),s.LFG(u.Ye,8),s.LFG(Sl,8),s.LFG(ze),s.LFG(t,12),s.LFG(P.Xj))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),Rl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[xt,Ml],imports:[[P.U8,Y.eL,T.BQ],T.BQ]}),t})();var Tl=c(3738);let Bl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.ez,T.si]]}),t})(),El=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.ez,T.si]]}),t})(),Il=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.ez,Ve]]}),t})(),kl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.ez,Tl.QW,Bl,Il,El]]}),t})(),jl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.ez,T.si]]}),t})(),Pl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[jl,u.ez,Ve,Rl,kl]]}),t})();var Ne=c(5802),b=c(4762),Yl=c(8002),Vl=c(6800);const Ue=function(t,i){var e=-1,n=t.length;for(i||(i=Array(n));++e<n;)i[e]=t[e];return i};var Ql=Math.floor,zl=Math.random;const We=function(t,i){return t+Ql(zl()*(i-t+1))},qe=function(t,i){var e=-1,n=t.length,r=n-1;for(i=void 0===i?n:i;++e<i;){var l=We(e,r),o=t[l];t[l]=t[e],t[e]=o}return t.length=i,t},Wl=function(t){return qe(Ue(t))},Zl=function(t,i){return function(t,i){for(var e=-1,n=null==t?0:t.length,r=Array(n);++e<n;)r[e]=i(t[e],e,t);return r}(i,function(e){return t[e]})},Ke="object"==typeof global&&global&&global.Object===Object&&global;var io="object"==typeof self&&self&&self.Object===Object&&self;const F=Ke||io||Function("return this")(),N=F.Symbol;var Je=Object.prototype,ro=Je.hasOwnProperty,lo=Je.toString,st=N?N.toStringTag:void 0;var uo=Object.prototype.toString;var Ze=N?N.toStringTag:void 0;const rt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ze&&Ze in Object(t)?function(t){var i=ro.call(t,st),e=t[st];try{t[st]=void 0;var n=!0}catch(l){}var r=lo.call(t);return n&&(i?t[st]=e:delete t[st]),r}(t):function(t){return uo.call(t)}(t)},lt=function(t){return null!=t&&"object"==typeof t},Xe=function(t){return lt(t)&&"[object Arguments]"==rt(t)};var ti=Object.prototype,Ao=ti.hasOwnProperty,_o=ti.propertyIsEnumerable;const wo=Xe(function(){return arguments}())?Xe:function(t){return lt(t)&&Ao.call(t,"callee")&&!_o.call(t,"callee")},ot=Array.isArray;var ei="object"==typeof exports&&exports&&!exports.nodeType&&exports,ii=ei&&"object"==typeof module&&module&&!module.nodeType&&module,ni=ii&&ii.exports===ei?F.Buffer:void 0;const si=(ni?ni.isBuffer:void 0)||function(){return!1};var Lo=/^(?:0|[1-9]\d*)$/;const To=function(t,i){var e=typeof t;return!!(i=null==i?9007199254740991:i)&&("number"==e||"symbol"!=e&&Lo.test(t))&&t>-1&&t%1==0&&t<i},ri=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1;const Yt=function(t){return function(i){return t(i)}};var li="object"==typeof exports&&exports&&!exports.nodeType&&exports,at=li&&"object"==typeof module&&module&&!module.nodeType&&module,Vt=at&&at.exports===li&&Ke.process;const U=function(){try{return at&&at.require&&at.require("util").types||Vt&&Vt.binding&&Vt.binding("util")}catch(i){}}();var oi=U&&U.isTypedArray;const ga=oi?Yt(oi):function(t){return lt(t)&&ri(t.length)&&!!p[rt(t)]};var ha=Object.prototype.hasOwnProperty;const ai=function(t,i){var e=ot(t),n=!e&&wo(t),r=!e&&!n&&si(t),l=!e&&!n&&!r&&ga(t),o=e||n||r||l,a=o?function(t,i){for(var e=-1,n=Array(t);++e<t;)n[e]=i(e);return n}(t.length,String):[],d=a.length;for(var f in t)(i||ha.call(t,f))&&(!o||!("length"==f||r&&("offset"==f||"parent"==f)||l&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||To(f,d)))&&a.push(f);return a};var xa=Object.prototype;const Ht=function(t){var i=t&&t.constructor;return t===("function"==typeof i&&i.prototype||xa)},di=function(t,i){return function(e){return t(i(e))}},Aa=di(Object.keys,Object);var Ca=Object.prototype.hasOwnProperty;const dt=function(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)},ci=function(t){if(!dt(t))return!1;var i=rt(t);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i},ui=function(t){return null!=t&&ri(t.length)&&!ci(t)},pt=function(t){return ui(t)?ai(t):function(t){if(!Ht(t))return Aa(t);var i=[];for(var e in Object(t))Ca.call(t,e)&&"constructor"!=e&&i.push(e);return i}(t)},gi=function(t){return null==t?[]:Zl(t,pt(t))},Ea=function(t){return qe(gi(t))},yt=function(t){return(ot(t)?Wl:Ea)(t)};var C=c(585);class ja extends class{constructor(i){this.index=0,this.trials=[],this.showFeedback=!1,this.name=i}nextTrial(){var i;return 0===this.index&&(this.started=new Date),this.index>this.trials.length&&(this.completed=new Date),this.index++,null===(i=this.trials)||void 0===i?void 0:i[this.index-1]}}{constructor(i,e){super("Forced choice block"),this.showFeedback=!0,console.log(this.showFeedback),this.network=i,this.createTrials(e)}createTrials(i){const e=yt(C.AZ),n=new Array(4).fill({isArbitrary:i.cueType===C.j8.arbitrary,fileName:i.cueType===C.j8.nonArbitrary?C.Sg:e[0],value:C.bR.same}),r=new Array(4).fill({isArbitrary:i.cueType===C.j8.arbitrary,fileName:i.cueType===C.j8.nonArbitrary?C.Sg:e[1],value:C.bR.different}),l=[];for(let a=0;a<2;a++)l.push(...this.network.identities.map(d=>Object.assign(Object.assign({},d),{cueComponentConfigs:n})));const o=[];o.push(...this.network.trained.map(a=>Object.assign(Object.assign({},a),{cueComponentConfigs:r})),...this.network.mutuallyEntailed.map(a=>Object.assign(Object.assign({},a),{cueComponentConfigs:r})),...this.network.combinatoriallyEntailed.map(a=>Object.assign(Object.assign({},a),{cueComponentConfigs:r}))),this.trials.push(...yt(l),...yt(o))}}const fi=function(t,i){return t===i||t!=t&&i!=i},vt=function(t,i){for(var e=t.length;e--;)if(fi(t[e][0],i))return e;return-1};var za=Array.prototype.splice;function W(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}W.prototype.clear=function(){this.__data__=[],this.size=0},W.prototype.delete=function(t){var i=this.__data__,e=vt(i,t);return!(e<0||(e==i.length-1?i.pop():za.call(i,e,1),--this.size,0))},W.prototype.get=function(t){var i=this.__data__,e=vt(i,t);return e<0?void 0:i[e][1]},W.prototype.has=function(t){return vt(this.__data__,t)>-1},W.prototype.set=function(t,i){var e=this.__data__,n=vt(e,t);return n<0?(++this.size,e.push([t,i])):e[n][1]=i,this};const At=W;var t,od=F["__core-js_shared__"],hi=(t=/[^.]+$/.exec(od&&od.keys&&od.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";var ud=Function.prototype.toString;const V=function(t){if(null!=t){try{return ud.call(t)}catch(i){}try{return t+""}catch(i){}}return""};var hd=/^\[object .+?Constructor\]$/,vd=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const _d=function(t){return!(!dt(t)||function(t){return!!hi&&hi in t}(t))&&(ci(t)?vd:hd).test(V(t))},H=function(t,i){var e=function(t,i){return null==t?void 0:t[i]}(t,i);return _d(e)?e:void 0},ct=H(F,"Map"),ut=H(Object,"create");var Td=Object.prototype.hasOwnProperty;var kd=Object.prototype.hasOwnProperty;function q(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}q.prototype.clear=function(){this.__data__=ut?ut(null):{},this.size=0},q.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},q.prototype.get=function(t){var i=this.__data__;if(ut){var e=i[t];return"__lodash_hash_undefined__"===e?void 0:e}return Td.call(i,t)?i[t]:void 0},q.prototype.has=function(t){var i=this.__data__;return ut?void 0!==i[t]:kd.call(i,t)},q.prototype.set=function(t,i){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=ut&&void 0===i?"__lodash_hash_undefined__":i,this};const mi=q,_t=function(t,i){var e=t.__data__;return function(t){var i=typeof t;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==t:null===t}(i)?e["string"==typeof i?"string":"hash"]:e.map};function K(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}K.prototype.clear=function(){this.size=0,this.__data__={hash:new mi,map:new(ct||At),string:new mi}},K.prototype.delete=function(t){var i=_t(this,t).delete(t);return this.size-=i?1:0,i},K.prototype.get=function(t){return _t(this,t).get(t)},K.prototype.has=function(t){return _t(this,t).has(t)},K.prototype.set=function(t,i){var e=_t(this,t),n=e.size;return e.set(t,i),this.size+=e.size==n?0:1,this};const ic=K;function J(t){var i=this.__data__=new At(t);this.size=i.size}J.prototype.clear=function(){this.__data__=new At,this.size=0},J.prototype.delete=function(t){var i=this.__data__,e=i.delete(t);return this.size=i.size,e},J.prototype.get=function(t){return this.__data__.get(t)},J.prototype.has=function(t){return this.__data__.has(t)},J.prototype.set=function(t,i){var e=this.__data__;if(e instanceof At){var n=e.__data__;if(!ct||n.length<199)return n.push([t,i]),this.size=++e.size,this;e=this.__data__=new ic(n)}return e.set(t,i),this.size=e.size,this};const lc=J,xi=function(){try{var t=H(Object,"defineProperty");return t({},"",{}),t}catch(i){}}(),pi=function(t,i,e){"__proto__"==i&&xi?xi(t,i,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[i]=e};var gc=Object.prototype.hasOwnProperty;const yi=function(t,i,e){var n=t[i];(!gc.call(t,i)||!fi(n,e)||void 0===e&&!(i in t))&&pi(t,i,e)},Ct=function(t,i,e,n){var r=!e;e||(e={});for(var l=-1,o=i.length;++l<o;){var a=i[l],d=n?n(e[a],t[a],a,e,t):void 0;void 0===d&&(d=t[a]),r?pi(e,a,d):yi(e,a,d)}return e};var Ac=Object.prototype.hasOwnProperty;const Cc=function(t){if(!dt(t))return function(t){var i=[];if(null!=t)for(var e in Object(t))i.push(e);return i}(t);var i=Ht(t),e=[];for(var n in t)"constructor"==n&&(i||!Ac.call(t,n))||e.push(n);return e},zt=function(t){return ui(t)?ai(t,!0):Cc(t)};var vi="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ai=vi&&"object"==typeof module&&module&&!module.nodeType&&module,_i=Ai&&Ai.exports===vi?F.Buffer:void 0,Ci=_i?_i.allocUnsafe:void 0;const wi=function(){return[]};var Tc=Object.prototype.propertyIsEnumerable,bi=Object.getOwnPropertySymbols;const $t=bi?function(t){return null==t?[]:(t=Object(t),function(t,i){for(var e=-1,n=null==t?0:t.length,r=0,l=[];++e<n;){var o=t[e];i(o,e,t)&&(l[r++]=o)}return l}(bi(t),function(i){return Tc.call(t,i)}))}:wi,Di=function(t,i){for(var e=-1,n=i.length,r=t.length;++e<n;)t[r+e]=i[e];return t},Si=di(Object.getPrototypeOf,Object),Fi=Object.getOwnPropertySymbols?function(t){for(var i=[];t;)Di(i,$t(t)),t=Si(t);return i}:wi,Mi=function(t,i,e){var n=i(t);return ot(t)?n:Di(n,e(t))},$c=function(t){return Mi(t,pt,$t)},Uc=function(t){return Mi(t,zt,Fi)},Nt=H(F,"DataView"),Ut=H(F,"Promise"),Wt=H(F,"Set"),qt=H(F,"WeakMap");var Gi="[object Map]",Oi="[object Promise]",Li="[object Set]",Ri="[object WeakMap]",Ti="[object DataView]",Xc=V(Nt),tu=V(ct),eu=V(Ut),iu=V(Wt),nu=V(qt),Q=rt;(Nt&&Q(new Nt(new ArrayBuffer(1)))!=Ti||ct&&Q(new ct)!=Gi||Ut&&Q(Ut.resolve())!=Oi||Wt&&Q(new Wt)!=Li||qt&&Q(new qt)!=Ri)&&(Q=function(t){var i=rt(t),e="[object Object]"==i?t.constructor:void 0,n=e?V(e):"";if(n)switch(n){case Xc:return Ti;case tu:return Gi;case eu:return Oi;case iu:return Li;case nu:return Ri}return i});const Kt=Q;var ru=Object.prototype.hasOwnProperty;const Bi=F.Uint8Array,Jt=function(t){var i=new t.constructor(t.byteLength);return new Bi(i).set(new Bi(t)),i};var gu=/\w*$/;var Ei=N?N.prototype:void 0,Ii=Ei?Ei.valueOf:void 0;const Pu=function(t,i,e){var n=t.constructor;switch(i){case"[object ArrayBuffer]":return Jt(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return function(t,i){var e=i?Jt(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,i){var e=i?Jt(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return function(t){var i=new t.constructor(t.source,gu.exec(t));return i.lastIndex=t.lastIndex,i}(t);case"[object Set]":return new n;case"[object Symbol]":return function(t){return Ii?Object(Ii.call(t)):{}}(t)}};var ki=Object.create;const Vu=function(){function t(){}return function(i){if(!dt(i))return{};if(ki)return ki(i);t.prototype=i;var e=new t;return t.prototype=void 0,e}}();var ji=U&&U.isMap;const Wu=ji?Yt(ji):function(t){return lt(t)&&"[object Map]"==Kt(t)};var Pi=U&&U.isSet;const Xu=Pi?Yt(Pi):function(t){return lt(t)&&"[object Set]"==Kt(t)};var Yi="[object Arguments]",Vi="[object Function]",Hi="[object Object]",m={};m[Yi]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object DataView]"]=m["[object Boolean]"]=m["[object Date]"]=m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Map]"]=m["[object Number]"]=m[Hi]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object Symbol]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m["[object Error]"]=m[Vi]=m["[object WeakMap]"]=!1;const Sg=function wt(t,i,e,n,r,l){var o,a=1&i,d=2&i,f=4&i;if(e&&(o=r?e(t,n,r,l):e(t)),void 0!==o)return o;if(!dt(t))return t;var D=ot(t);if(D){if(o=function(t){var i=t.length,e=new t.constructor(i);return i&&"string"==typeof t[0]&&ru.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!a)return Ue(t,o)}else{var _=Kt(t),Ft=_==Vi||"[object GeneratorFunction]"==_;if(si(t))return function(t,i){if(i)return t.slice();var e=t.length,n=Ci?Ci(e):new t.constructor(e);return t.copy(n),n}(t,a);if(_==Hi||_==Yi||Ft&&!r){if(o=d||Ft?{}:function(t){return"function"!=typeof t.constructor||Ht(t)?{}:Vu(Si(t))}(t),!a)return d?function(t,i){return Ct(t,Fi(t),i)}(t,function(t,i){return t&&Ct(i,zt(i),t)}(o,t)):function(t,i){return Ct(t,$t(t),i)}(t,function(t,i){return t&&Ct(i,pt(i),t)}(o,t))}else{if(!m[_])return r?t:{};o=Pu(t,_,a)}}l||(l=new lc);var Mt=l.get(t);if(Mt)return Mt;l.set(t,o),Xu(t)?t.forEach(function(S){o.add(wt(S,i,e,S,t,l))}):Wu(t)&&t.forEach(function(S,h){o.set(h,wt(S,i,e,h,t,l))});var E=D?void 0:(f?d?Uc:$c:d?zt:pt)(t);return function(t,i){for(var e=-1,n=null==t?0:t.length;++e<n&&!1!==i(t[e],e,t););}(E||t,function(S,h){E&&(S=t[h=S]),yi(o,h,wt(S,i,e,h,t,l))}),o},Qi=function(t){return Sg(t,4)},zi=function(t){var i=t.length;return i?t[We(0,i-1)]:void 0},Lg=function(t){return zi(gi(t))},Zt=function(t){return(ot(t)?zi:Lg)(t)},Xt=["RWK","PGZ","QGK","FNK","ZVB","PWU","PLJ","KNF","GVW","KXL","GRQ","WPQ","BQP","FXX","ZTF","SGG","GQF","VXO","DZF","ZHD","JHH","VQP","JXY","ZVS","HGD","FJX","VHK","JTP","JTS","UHJ","WTZ","CXF","XFH","LWK","NWK","ZRG","FDG","NQC","WPW","YVR","HLJ","WBX","VGH","KXW","XAQ","WQG","DGJ","QUZ","QZX","HWL","DKX","ZDW","RZJ","VGJ","VWL","MKP","JFJ","GQY","BRX","IHG","YVP","SXG","FJC","QKU","WZY","QHJ","YTZ","RHF","YYB","QFH","ZUX","TQT","VZZ","BTQ","DHQ","XLW","VLW","VZJ","GGK","SWK","UFH","GPN","JSX","IQP","QUP","XDG","QWN","CBK","JVH","VXG","YBF","BVY","QZW","UPZ","WMX","XVN","RRX","QTX","DZN","WXP"],$i={lower:"lower",upper:"upper"},Tg=Object.values($i);class Ig extends class{constructor(i,e,n){this.num=i,this.case=e,this.stimuli=function(t,i){const e=[];for(;e.length<3;){const n=Zt(Xt);if(void 0===n)throw Error('Random value returned "undefined"!');const r=Xt.indexOf(n);r>-1&&Xt.splice(r,1),e.includes(n)||e.push(i===$i.lower?n.toLowerCase():n.toUpperCase())}return e}(0,e),this.selectedCues=Zt(n)}get identities(){return this.stimuli.map(i=>({cue:C.bR.same,stimuli:[i,i]}))}get trained(){const[i,e,n]=this.stimuli;return[{cue:this.selectedCues[0],stimuli:[i,e]},{cue:this.selectedCues[1],stimuli:[i,n]}]}comparisonToString(i){return i.map(({cue:e,stimuli:[n,r]})=>`${n} ${e} ${r}`).join(", ")}}{constructor(i,e){super(i,e,[[C.bR.different,C.bR.different]])}get combinatoriallyEntailed(){const[i,e,n]=this.stimuli,r={cue:C.bR.different,stimuli:[e,n]};return[r,{cue:C.bR.different,stimuli:Qi(r.stimuli).reverse()}]}get mutuallyEntailed(){return this.trained.map(({stimuli:i})=>({cue:C.bR.different,stimuli:Qi(i).reverse()}))}toString(){return[`Network ${this.num}`,this.stimuli.map((i,e)=>`${String.fromCharCode(65+e)}${this.num} = ${this.stimuli[e]}`).join(", "),`Identities: ${this.comparisonToString(this.identities)}`,`Trained: ${this.comparisonToString(this.trained)}`].join("\n")}}class jg{constructor(i){this.blocks=[],this.stimulusCase=function(){const t=Zt(Tg);if(void 0===t)throw Error('Random stimulus case returned "undefined"!');return t}(),this.config=i,this.blocks=[new ja(new Ig(3,this.stimulusCase),i)]}}let bt=(()=>{class t{constructor(e){this.configSvc=e}blocks$(){return this.configSvc.config$().pipe((0,Yl.U)(e=>(this.conditions=new jg(e),this.conditions.blocks)))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Vl.R))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Ni=c(6797);function gt(t){return(0,Ni.H)(t).toPromise()}const M=150;function Ui(){return(0,Ni.H)(1).toPromise()}function Dt(t){return(0,g.X$)((null==t?void 0:t.anchor)||"fadeOut",[(0,g.SB)("false",(0,g.oB)({visibility:"visible",opacity:1})),(0,g.SB)(":leave",(0,g.oB)({visibility:"visible",opacity:1})),(0,g.SB)("true",(0,g.oB)({visibility:"hidden",opacity:0})),(0,g.eR)("* => true",(0,g.jt)("{{duration}}ms {{delay}}ms ease-in"),{params:{duration:(null==t?void 0:t.duration)||1e3,delay:(null==t?void 0:t.delay)||0}})])}let Pg=(()=>{class t{constructor(e,n){this.data=e,this.ref=n,this.animated=!1}close(){return(0,b.mG)(this,void 0,void 0,function*(){this.animated=!0,yield gt(M),this.ref.close()})}ngOnInit(){setTimeout(()=>{this.close().then()},2850)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Pt),s.Y36(nt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-correct-dialog"]],decls:3,vars:2,consts:[["mat-ripple","",1,"vw-100","vh-100","d-flex","justify-content-center","align-items-center","bg-white",3,"matRippleDisabled","click"],[1,"overlay-dynamic-text","user-select-none"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0),s.NdJ("click",function(){return n.close()}),s.TgZ(1,"strong",1),s._uU(2,"CORRECT"),s.qZA(),s.qZA()),2&e&&s.Q6J("@fadeOut",n.animated)("matRippleDisabled",n.animated)},directives:[T.wG],styles:[".overlay-dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,8vw,15rem);white-space:nowrap}"],data:{animation:[Dt({duration:M})]}}),t})();var St=c(6857),Ki=c(3637),Yg=c(6561);function Hg(t){const{subscriber:i,counter:e,period:n}=t;i.next(e),this.schedule({subscriber:i,counter:e+1,period:n},n)}function Ji(t){return(0,g.X$)((null==t?void 0:t.anchor)||"fadeIn",[(0,g.SB)("void",(0,g.oB)({visibility:"hidden",opacity:0})),(0,g.SB)("false",(0,g.oB)({visibility:"hidden",opacity:0})),(0,g.SB)("true",(0,g.oB)({visibility:"visible",opacity:1})),(0,g.eR)("* => true",(0,g.jt)("{{duration}}ms {{delay}}ms ease-in"),{params:{duration:(null==t?void 0:t.duration)||1e3,delay:(null==t?void 0:t.delay)||0}})])}const Qg=function(t){return{delay:t}},zg=function(t,i){return{value:t,params:i}};let Zi=(()=>{class t{constructor(){this.animationDelay=0,this.selected=new s.vpe}set(e){return(0,b.mG)(this,void 0,void 0,function*(){this.animate="fade-out",yield gt(M),this.config=e,this.backgroundImage=e.fileName,this.animate="fade-in"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-cue"]],inputs:{animationDelay:"animationDelay"},outputs:{selected:"selected"},decls:3,vars:10,consts:[["matRipple","",1,"trial-item",3,"click"],[1,"dynamic-text"]],template:function(e,n){1&e&&(s.TgZ(0,"button",0),s.NdJ("click",function(){return n.selected.emit(n.config)}),s.TgZ(1,"strong",1),s._uU(2),s.qZA(),s.qZA()),2&e&&(s.Udp("background-image",n.backgroundImage),s.Q6J("@fadeIn",s.WLB(7,zg,"fade-in"===n.animate,s.VKq(5,Qg,n.animationDelay)))("@fadeOut","fade-out"===n.animate),s.xp6(2),s.Oqu(null!=n.config&&n.config.isArbitrary?"\xa0":(null==n.config?null:n.config.value)||""))},directives:[T.wG],styles:["[_nghost-%COMP%]{display:block}button.trial-item[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;aspect-ratio:2;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}",""],data:{animation:[Ji(),Dt({duration:M})]}}),t})();const $g=function(t){return{delay:t}},Ng=function(t,i){return{value:t,params:i}};let Xi=(()=>{class t{constructor(){this.animationDelay=0}set(e){return(0,b.mG)(this,void 0,void 0,function*(){this.animate="fade-out",yield gt(M),this.backgroundImage=C.Sg,this.cue=e,this.animate="fade-in"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-stimulus"]],inputs:{animationDelay:"animationDelay"},decls:3,vars:10,consts:[[1,"trial-item"],[1,"dynamic-text"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"strong",1),s._uU(2),s.qZA(),s.qZA()),2&e&&(s.Udp("background-image",n.backgroundImage),s.Q6J("@fadeIn",s.WLB(7,Ng,"fade-in"===n.animate,s.VKq(5,$g,n.animationDelay)))("@fadeOut","fade-out"===n.animate),s.xp6(2),s.Oqu(n.cue))},styles:["[_nghost-%COMP%]{display:block}button.trial-item[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;aspect-ratio:2;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}",""],data:{animation:[Ji(),Dt({duration:M})]}}),t})();function Ug(t,i){if(1&t){const e=s.EpF();s.ynx(0),s.TgZ(1,"trial-cue",4),s.NdJ("selected",function(r){const o=s.CHM(e).index;return s.oxw().selected(r,o)}),s.qZA(),s.BQk()}2&t&&(s.xp6(1),s.Q6J("animationDelay",1500))}let B=class{constructor(i){this.conditionSvc=i,this.completed=new s.vpe,this.cueComponentConfigs=[],this.secondsInTrial=0,this.conditions=this.conditionSvc.conditions}next(i){var e,n;return(0,b.mG)(this,void 0,void 0,function*(){this.cueComponentConfigs=[...i.cueComponentConfigs],this.setTimer(),yield Ui();for(const[l,o]of i.stimuli.entries())null===(e=this.trialStimulusComponents.get(l))||void 0===e||e.set(o);const r=yt(i.cueComponentConfigs);for(let l=0;l<this.trialCueComponents.length;l++)null===(n=this.trialCueComponents.get(l))||void 0===n||n.set(r[l])})}ngAfterViewInit(){this.trialCueComponents.changes.pipe((0,St.t)(this)).subscribe(),this.trialStimulusComponents.changes.pipe((0,St.t)(this)).subscribe()}selected(i,e){var n;null===(n=this.timerSub)||void 0===n||n.unsubscribe(),this.completed.emit({cue:i,position:e})}setTimer(){this.timerSub&&this.timerSub.unsubscribe(),this.secondsInTrial=0,this.timerSub=function(t=0,i=Ki.P){return(!(0,Yg.k)(t)||t<0)&&(t=0),(!i||"function"!=typeof i.schedule)&&(i=Ki.P),new ne.y(e=>(e.add(i.schedule(Hg,t,{subscriber:e,counter:0,period:t})),e))}(1e3).pipe((0,re.b)(()=>{var i;this.secondsInTrial++,this.secondsInTrial>=this.conditions.config.trialTimeout&&(this.completed.emit(),null===(i=this.timerSub)||void 0===i||i.unsubscribe())}),(0,St.t)(this)).subscribe()}};B.\u0275fac=function(i){return new(i||B)(s.Y36(bt))},B.\u0275cmp=s.Xpm({type:B,selectors:[["trial"]],viewQuery:function(i,e){if(1&i&&(s.Gf(Zi,5),s.Gf(Xi,5)),2&i){let n;s.iGM(n=s.CRH())&&(e.trialCueComponents=n),s.iGM(n=s.CRH())&&(e.trialStimulusComponents=n)}},outputs:{completed:"completed"},decls:5,vars:3,consts:[[1,"trial-sample-stimuli"],[3,"animationDelay"],[1,"trial-buttons"],[4,"ngFor","ngForOf"],[3,"animationDelay","selected"]],template:function(i,e){1&i&&(s.TgZ(0,"div",0),s._UZ(1,"trial-stimulus",1),s._UZ(2,"trial-stimulus",1),s.qZA(),s.TgZ(3,"div",2),s.YNc(4,Ug,2,1,"ng-container",3),s.qZA()),2&i&&(s.xp6(1),s.Q6J("animationDelay",500),s.xp6(1),s.Q6J("animationDelay",1e3),s.xp6(2),s.Q6J("ngForOf",e.cueComponentConfigs))},directives:[Xi,u.sg,Zi],styles:["[_nghost-%COMP%]{display:block}button.trial-item[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;aspect-ratio:2;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}"]}),B=(0,b.gn)([(0,St.c)(),(0,b.w6)("design:paramtypes",[bt])],B);let tn=(()=>{class t{constructor(e,n){this.data=e,this.ref=n,this.animated=!1}close(){return(0,b.mG)(this,void 0,void 0,function*(){this.animated=!0,yield gt(M),this.ref.close()})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Pt),s.Y36(nt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["block-start-dialog"]],decls:3,vars:3,consts:[["mat-ripple","",1,"vw-100","vh-100","d-flex","justify-content-center","align-items-center","bg-white",3,"matRippleDisabled","click"],[1,"overlay-dynamic-text","user-select-none"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0),s.NdJ("click",function(){return n.close()}),s.TgZ(1,"strong",1),s._uU(2),s.qZA(),s.qZA()),2&e&&(s.Q6J("@fadeOut",n.animated)("matRippleDisabled",n.animated),s.xp6(2),s.Oqu(n.data))},directives:[T.wG],styles:[".overlay-dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,8vw,15rem);white-space:nowrap}"],data:{animation:[Dt({duration:M})]}}),t})();function te(t){return{data:t,disableClose:!0,hasBackdrop:!1,closeOnNavigation:!0,height:"100vh",maxHeight:"100vh",maxWidth:"100vw",panelClass:["fullscreen-dialog-container","animate__animated","animate__fadeIn"],width:"100vw"}}function Wg(t,i){if(1&t){const e=s.EpF();s.TgZ(0,"trial",1),s.NdJ("completed",function(r){return s.CHM(e),s.oxw().selected(r)}),s.qZA()}}let en=(()=>{class t{constructor(e,n){this.conditionSvc=e,this.dialog=n,this.completed=new s.vpe,this.conditions=this.conditionSvc.conditions,this.show=!1}next(e){this.block=e,console.log(this.block),this.dialog.open(tn,te("CLICK TO START")).afterClosed().subscribe(()=>this.start())}nextTrial(){var e,n;return(0,b.mG)(this,void 0,void 0,function*(){const r=null===(e=this.block)||void 0===e?void 0:e.nextTrial();console.log(r),r?null===(n=this.trialComponent)||void 0===n||n.next(r):(this.show=!1,yield gt(1500),this.dialog.open(tn,te("TRIAL COMPLETE")).afterClosed().subscribe(()=>location.reload()),this.completed.emit())})}selected(e){var n;return(0,b.mG)(this,void 0,void 0,function*(){(null===(n=this.block)||void 0===n?void 0:n.showFeedback)?(console.log(e),this.dialog.open(Pg,te()).afterClosed().subscribe(),setTimeout(()=>{this.nextTrial()},2700)):this.nextTrial().then()})}start(){return(0,b.mG)(this,void 0,void 0,function*(){this.show=!0,yield Ui(),this.nextTrial().then()})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(bt),s.Y36(xt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["block"]],viewQuery:function(e,n){if(1&e&&s.Gf(B,5),2&e){let r;s.iGM(r=s.CRH())&&(n.trialComponent=r.first)}},outputs:{completed:"completed"},decls:1,vars:1,consts:[[3,"completed",4,"ngIf"],[3,"completed"]],template:function(e,n){1&e&&s.YNc(0,Wg,1,0,"trial",0),2&e&&s.Q6J("ngIf",n.show)},directives:[u.O5,B],styles:[""],data:{animation:[]}}),t})();const qg=[{path:"",component:(()=>{class t{constructor(e){this.conditionsSvc=e,this.blocks=[],this.completed=new s.vpe}nextBlock(){var e;this.blocks.length>0?null===(e=this.blockComponent)||void 0===e||e.next(this.blocks.shift()):this.completed.emit()}ngOnInit(){return(0,b.mG)(this,void 0,void 0,function*(){this.blocks=yield this.conditionsSvc.blocks$().toPromise(),this.nextBlock()})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(bt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["study"]],viewQuery:function(e,n){if(1&e&&s.Gf(en,5),2&e){let r;s.iGM(r=s.CRH())&&(n.blockComponent=r.first)}},decls:1,vars:0,template:function(e,n){1&e&&s._UZ(0,"block")},directives:[en],styles:["[_nghost-%COMP%]{-webkit-box-align:center;-webkit-box-pack:center;align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;width:100%}"]}),t})()}];let Kg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Ne.Bz.forChild(qg)],Ne.Bz]}),t})(),Jg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.ez,Kg,Pl]]}),t})()}}]);