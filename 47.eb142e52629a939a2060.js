"use strict";(self.webpackChunkknown_unknowns_multiple_exemplar_experiment=self.webpackChunkknown_unknowns_multiple_exemplar_experiment||[]).push([[47],{5047:(au,Jt,d)=>{d.r(Jt),d.d(Jt,{StudyModule:()=>ru});var u=d(2057),s=d(793),b=d(9765),Xt=(d(6215),d(7574)),B=(d(6682),d(5435)),ee=d(3342);const zi={provide:s.tb,useFactory:function(t,i){return()=>{if((0,u.NF)(i)){const e=Array.from(t.querySelectorAll(`[class*=${ie}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(l=>{l.classList.contains(`${ie}ssr`)&&l.parentNode?l.parentNode.removeChild(l):l.className.replace(n,"")})}}},deps:[u.K0,s.Lbi],multi:!0},ie="flex-layout-";let wt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[zi]}),t})();const _t={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},D=new s.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>_t}),I=new s.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Dt=new s.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});d(9490),d(6782),d(1211);let De=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[wt]]}),t})();var tt=d(6794);let Me=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[wt,tt.vT]]}),t})(),Ie=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[wt]]}),t})(),ke=(()=>{class t{constructor(e,n){(0,u.PM)(n)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:D,useValue:Object.assign(Object.assign({},_t),e)},{provide:Dt,useValue:n,multi:!0},{provide:I,useValue:!0}]:[{provide:D,useValue:Object.assign(Object.assign({},_t),e)},{provide:Dt,useValue:n,multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(I),s.LFG(s.Lbi))},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Me,De,Ie],Me,De,Ie]}),t})();var k=d(933),P=d(2414),j=d(7935),nr=d(1439),sr=d(5917),Mt=d(5257),lr=d(9761),Gt=d(9642),g=d(6083),Pe=d(3328),je=d(2371);function rr(t,i){}class Lt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const or={dialogContainer:(0,g.X$)("dialogContainer",[(0,g.SB)("void, exit",(0,g.oB)({opacity:0,transform:"scale(0.7)"})),(0,g.SB)("enter",(0,g.oB)({transform:"none"})),(0,g.eR)("* => enter",(0,g.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,g.oB)({transform:"none",opacity:1}))),(0,g.eR)("* => void, * => exit",(0,g.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,g.oB)({opacity:0})))])};let ar=(()=>{class t extends P.en{constructor(e,n,l,r,o,a){super(),this._elementRef=e,this._focusTrapFactory=n,this._changeDetectorRef=l,this._config=o,this._focusMonitor=a,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=c=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(c)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const n=(0,Gt.ht)(),l=this._elementRef.nativeElement;(!n||n===this._document.body||n===l||l.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Gt.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=(0,Gt.ht)();return e===n||e.contains(n)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(je.qV),s.Y36(s.sBO),s.Y36(u.K0,8),s.Y36(Lt),s.Y36(je.tE))},t.\u0275dir=s.lG2({type:t,viewQuery:function(e,n){if(1&e&&s.Gf(P.Pl,7),2&e){let l;s.iGM(l=s.CRH())&&(n._portalOutlet=l.first)}},features:[s.qOj]}),t})(),dr=(()=>{class t extends ar{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:n}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}_onAnimationStart({toState:e,totalTime:n}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:n}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:n})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let i;return function(n){return(i||(i=s.n5z(t)))(n||t)}}(),t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,n){1&e&&s.WFA("@dialogContainer.start",function(r){return n._onAnimationStart(r)})("@dialogContainer.done",function(r){return n._onAnimationDone(r)}),2&e&&(s.Ikx("id",n._id),s.uIk("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),s.d8E("@dialogContainer",n._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&s.YNc(0,rr,0,0,"ng-template",0)},directives:[P.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[or.dialogContainer]}}),t})(),cr=0;class it{constructor(i,e,n="mat-dialog-"+cr++){this._overlayRef=i,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new b.xQ,this._afterClosed=new b.xQ,this._beforeClosed=new b.xQ,this._state=0,e._id=n,e._animationStateChanged.pipe((0,B.h)(l=>"opened"===l.state),(0,Mt.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,B.h)(l=>"closed"===l.state),(0,Mt.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe((0,B.h)(l=>l.keyCode===Pe.hY&&!this.disableClose&&!(0,Pe.Vb)(l))).subscribe(l=>{l.preventDefault(),Rt(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Rt(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe((0,B.h)(e=>"closing"===e.state),(0,Mt.q)(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let e=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",e=""){return this._overlayRef.updateSize({width:i,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Rt(t,i,e){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=i),t.close(e)}const Ot=new s.OlP("MatDialogData"),ur=new s.OlP("mat-dialog-default-options"),Ye=new s.OlP("mat-dialog-scroll-strategy"),fr={provide:Ye,deps:[k.aV],useFactory:function(t){return()=>t.scrollStrategies.block()}};let hr=(()=>{class t{constructor(e,n,l,r,o,a,c,w,v){this._overlay=e,this._injector=n,this._defaultOptions=l,this._parentDialog=r,this._overlayContainer=o,this._dialogRefConstructor=c,this._dialogContainerType=w,this._dialogDataToken=v,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b.xQ,this._afterOpenedAtThisLevel=new b.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,nr.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,lr.O)(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,n){(n=function(t,i){return Object.assign(Object.assign({},i),t)}(n,this._defaultOptions||new Lt)).id&&this.getDialogById(n.id);const l=this._createOverlay(n),r=this._attachDialogContainer(l,n),o=this._attachDialogContent(e,r,l,n);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),r._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const n=this._getOverlayConfig(e);return this._overlay.create(n)}_getOverlayConfig(e){const n=new k.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachDialogContainer(e,n){const r=s.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:Lt,useValue:n}]}),o=new P.C5(this._dialogContainerType,n.viewContainerRef,r,n.componentFactoryResolver);return e.attach(o).instance}_attachDialogContent(e,n,l,r){const o=new this._dialogRefConstructor(l,n,r.id);if(e instanceof s.Rgc)n.attachTemplatePortal(new P.UE(e,null,{$implicit:r.data,dialogRef:o}));else{const a=this._createInjector(r,o,n),c=n.attachComponentPortal(new P.C5(e,r.viewContainerRef,a));o.componentInstance=c.instance}return o.updateSize(r.width,r.height).updatePosition(r.position),o}_createInjector(e,n,l){const r=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:n}];return e.direction&&(!r||!r.get(tt.Is,null,s.XFs.Optional))&&o.push({provide:tt.Is,useValue:{value:e.direction,change:(0,sr.of)()}}),s.zs3.create({parent:r||this._injector,providers:o})}_removeOpenDialog(e){const n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((l,r)=>{l?r.setAttribute("aria-hidden",l):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let l=n.length-1;l>-1;l--){let r=n[l];r!==e&&"SCRIPT"!==r.nodeName&&"STYLE"!==r.nodeName&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(k.aV),s.Y36(s.zs3),s.Y36(void 0),s.Y36(void 0),s.Y36(k.Xj),s.Y36(void 0),s.Y36(s.DyG),s.Y36(s.DyG),s.Y36(s.OlP))},t.\u0275dir=s.lG2({type:t}),t})(),at=(()=>{class t extends hr{constructor(e,n,l,r,o,a,c){super(e,n,r,a,c,o,it,dr,Ot)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(k.aV),s.LFG(s.zs3),s.LFG(u.Ye,8),s.LFG(ur,8),s.LFG(Ye),s.LFG(t,12),s.LFG(k.Xj))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),pr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[at,fr],imports:[[k.U8,P.eL,j.BQ],j.BQ]}),t})();var yr=d(7639);let vr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.ez,j.si]]}),t})(),Ar=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.ez,j.si]]}),t})(),Cr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.ez,ke]]}),t})(),wr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.ez,yr.QW,vr,Cr,Ar]]}),t})(),_r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.ez,j.si]]}),t})();var Dr=d(8002),Sr=d(6839),dt=d(7214);var He=d(6224);const ct=function(t,i){for(var e=t.length;e--;)if((0,He.Z)(t[e][0],i))return e;return-1};var Lr=Array.prototype.splice;function Q(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}Q.prototype.clear=function(){this.__data__=[],this.size=0},Q.prototype.delete=function(t){var i=this.__data__,e=ct(i,t);return!(e<0||(e==i.length-1?i.pop():Lr.call(i,e,1),--this.size,0))},Q.prototype.get=function(t){var i=this.__data__,e=ct(i,t);return e<0?void 0:i[e][1]},Q.prototype.has=function(t){return ct(this.__data__,t)>-1},Q.prototype.set=function(t,i){var e=this.__data__,n=ct(e,t);return n<0?(++this.size,e.push([t,i])):e[n][1]=i,this};const ut=Q;var $=d(4423),Y=d(309);const nt=(0,$.Z)(Y.Z,"Map"),st=(0,$.Z)(Object,"create");var eo=Object.prototype.hasOwnProperty;var lo=Object.prototype.hasOwnProperty;function Z(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}Z.prototype.clear=function(){this.__data__=st?st(null):{},this.size=0},Z.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},Z.prototype.get=function(t){var i=this.__data__;if(st){var e=i[t];return"__lodash_hash_undefined__"===e?void 0:e}return eo.call(i,t)?i[t]:void 0},Z.prototype.has=function(t){var i=this.__data__;return st?void 0!==i[t]:lo.call(i,t)},Z.prototype.set=function(t,i){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=st&&void 0===i?"__lodash_hash_undefined__":i,this};const ze=Z,gt=function(t,i){var e=t.__data__;return function(t){var i=typeof t;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==t:null===t}(i)?e["string"==typeof i?"string":"hash"]:e.map};function N(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}N.prototype.clear=function(){this.size=0,this.__data__={hash:new ze,map:new(nt||ut),string:new ze}},N.prototype.delete=function(t){var i=gt(this,t).delete(t);return this.size-=i?1:0,i},N.prototype.get=function(t){return gt(this,t).get(t)},N.prototype.has=function(t){return gt(this,t).has(t)},N.prototype.set=function(t,i){var e=gt(this,t),n=e.size;return e.set(t,i),this.size+=e.size==n?0:1,this};const So=N;function W(t){var i=this.__data__=new ut(t);this.size=i.size}W.prototype.clear=function(){this.__data__=new ut,this.size=0},W.prototype.delete=function(t){var i=this.__data__,e=i.delete(t);return this.size=i.size,e},W.prototype.get=function(t){return this.__data__.get(t)},W.prototype.has=function(t){return this.__data__.has(t)},W.prototype.set=function(t,i){var e=this.__data__;if(e instanceof ut){var n=e.__data__;if(!nt||n.length<199)return n.push([t,i]),this.size=++e.size,this;e=this.__data__=new So(n)}return e.set(t,i),this.size=e.size,this};const Go=W;var Qe=d(5427),Oo=d(2753);const ft=function(t,i,e,n){var l=!e;e||(e={});for(var r=-1,o=i.length;++r<o;){var a=i[r],c=n?n(e[a],t[a],a,e,t):void 0;void 0===c&&(c=t[a]),l?(0,Oo.Z)(e,a,c):(0,Qe.Z)(e,a,c)}return e};var Et=d(1163);var Io=d(6205),U=d(4214),$e=d(1550);var Yo=Object.prototype.hasOwnProperty;const Ho=function(t){if(!(0,U.Z)(t))return function(t){var i=[];if(null!=t)for(var e in Object(t))i.push(e);return i}(t);var i=(0,$e.Z)(t),e=[];for(var n in t)"constructor"==n&&(i||!Yo.call(t,n))||e.push(n);return e};var Ze=d(8402);const Bt=function(t){return(0,Ze.Z)(t)?(0,Io.Z)(t,!0):Ho(t)};var Ne="object"==typeof exports&&exports&&!exports.nodeType&&exports,We=Ne&&"object"==typeof module&&module&&!module.nodeType&&module,Ue=We&&We.exports===Ne?Y.Z.Buffer:void 0,Ke=Ue?Ue.allocUnsafe:void 0;var qe=d(6889);const Je=function(){return[]};var Xo=Object.prototype.propertyIsEnumerable,Xe=Object.getOwnPropertySymbols;const Tt=Xe?function(t){return null==t?[]:(t=Object(t),function(t,i){for(var e=-1,n=null==t?0:t.length,l=0,r=[];++e<n;){var o=t[e];i(o,e,t)&&(r[l++]=o)}return r}(Xe(t),function(i){return Xo.call(t,i)}))}:Je,ti=function(t,i){for(var e=-1,n=i.length,l=t.length;++e<n;)t[l+e]=i[e];return t},ei=(0,d(4184).Z)(Object.getPrototypeOf,Object),ii=Object.getOwnPropertySymbols?function(t){for(var i=[];t;)ti(i,Tt(t)),t=ei(t);return i}:Je;var ht=d(4654);const ni=function(t,i,e){var n=i(t);return(0,ht.Z)(t)?n:ti(n,e(t))},ga=function(t){return ni(t,Et.Z,Tt)},ha=function(t){return ni(t,Bt,ii)},It=(0,$.Z)(Y.Z,"DataView"),kt=(0,$.Z)(Y.Z,"Promise"),Pt=(0,$.Z)(Y.Z,"Set"),jt=(0,$.Z)(Y.Z,"WeakMap");var Yt=d(4796),K=d(2035),si="[object Map]",li="[object Promise]",ri="[object Set]",oi="[object WeakMap]",ai="[object DataView]",Aa=(0,K.Z)(It),Ca=(0,K.Z)(nt),wa=(0,K.Z)(kt),_a=(0,K.Z)(Pt),Da=(0,K.Z)(jt),V=Yt.Z;(It&&V(new It(new ArrayBuffer(1)))!=ai||nt&&V(new nt)!=si||kt&&V(kt.resolve())!=li||Pt&&V(new Pt)!=ri||jt&&V(new jt)!=oi)&&(V=function(t){var i=(0,Yt.Z)(t),e="[object Object]"==i?t.constructor:void 0,n=e?(0,K.Z)(e):"";if(n)switch(n){case Aa:return ai;case Ca:return si;case wa:return li;case _a:return ri;case Da:return oi}return i});const Vt=V;var Fa=Object.prototype.hasOwnProperty;const di=Y.Z.Uint8Array,Ht=function(t){var i=new t.constructor(t.byteLength);return new di(i).set(new di(t)),i};var Ea=/\w*$/;var ci=d(5770),ui=ci.Z?ci.Z.prototype:void 0,gi=ui?ui.valueOf:void 0;const rd=function(t,i,e){var n=t.constructor;switch(i){case"[object ArrayBuffer]":return Ht(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return function(t,i){var e=i?Ht(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,i){var e=i?Ht(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return function(t){var i=new t.constructor(t.source,Ea.exec(t));return i.lastIndex=t.lastIndex,i}(t);case"[object Set]":return new n;case"[object Symbol]":return function(t){return gi?Object(gi.call(t)):{}}(t)}};var fi=Object.create;const ad=function(){function t(){}return function(i){if(!(0,U.Z)(i))return{};if(fi)return fi(i);t.prototype=i;var e=new t;return t.prototype=void 0,e}}();var ud=d(4909),zt=d(6539);var hi=d(1162),mt=d(8514),mi=mt.Z&&mt.Z.isMap;const xd=mi?(0,hi.Z)(mi):function(t){return(0,zt.Z)(t)&&"[object Map]"==Vt(t)};var xi=mt.Z&&mt.Z.isSet;const Cd=xi?(0,hi.Z)(xi):function(t){return(0,zt.Z)(t)&&"[object Set]"==Vt(t)};var pi="[object Arguments]",yi="[object Function]",vi="[object Object]",h={};h[pi]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object DataView]"]=h["[object Boolean]"]=h["[object Date]"]=h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Map]"]=h["[object Number]"]=h[vi]=h["[object RegExp]"]=h["[object Set]"]=h["[object String]"]=h["[object Symbol]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h["[object Error]"]=h[yi]=h["[object WeakMap]"]=!1;const Ai=function xt(t,i,e,n,l,r){var o,a=1&i,c=2&i,w=4&i;if(e&&(o=l?e(t,n,l,r):e(t)),void 0!==o)return o;if(!(0,U.Z)(t))return t;var v=(0,ht.Z)(t);if(v){if(o=function(t){var i=t.length,e=new t.constructor(i);return i&&"string"==typeof t[0]&&Fa.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!a)return(0,qe.Z)(t,o)}else{var C=Vt(t),At=C==yi||"[object GeneratorFunction]"==C;if((0,ud.Z)(t))return function(t,i){if(i)return t.slice();var e=t.length,n=Ke?Ke(e):new t.constructor(e);return t.copy(n),n}(t,a);if(C==vi||C==pi||At&&!l){if(o=c||At?{}:function(t){return"function"!=typeof t.constructor||(0,$e.Z)(t)?{}:ad(ei(t))}(t),!a)return c?function(t,i){return ft(t,ii(t),i)}(t,function(t,i){return t&&ft(i,Bt(i),t)}(o,t)):function(t,i){return ft(t,Tt(t),i)}(t,function(t,i){return t&&ft(i,(0,Et.Z)(i),t)}(o,t))}else{if(!h[C])return l?t:{};o=rd(t,C,a)}}r||(r=new Go);var Ct=r.get(t);if(Ct)return Ct;r.set(t,o),Cd(t)?t.forEach(function(S){o.add(xt(S,i,e,S,t,r))}):xd(t)&&t.forEach(function(S,f){o.set(f,xt(S,i,e,f,t,r))});var E=v?void 0:(w?c?ha:ga:c?Bt:Et.Z)(t);return function(t,i){for(var e=-1,n=null==t?0:t.length;++e<n&&!1!==i(t[e],e,t););}(E||t,function(S,f){E&&(S=t[f=S]),(0,Qe.Z)(o,f,xt(S,i,e,f,t,r))}),o},Ci=function(t){return Ai(t,5)},wi=function(t,i,e){return t==t&&(void 0!==e&&(t=t<=e?t:e),void 0!==i&&(t=t>=i?t:i)),t};var _i=d(1994);const Xd=function(t,i){return(0,_i.Z)((0,qe.Z)(t),wi(i,0,t.length))};var Di=d(4724);const ec=function(t,i){var e=(0,Di.Z)(t);return(0,_i.Z)(e,wi(i,0,e.length))};var ic=d(8078);var lc=/\s/;var ac=/^\s+/;const cc=function(t){return t&&t.slice(0,function(t){for(var i=t.length;i--&&lc.test(t.charAt(i)););return i}(t)+1).replace(ac,"")};var hc=/^[-+]0x[0-9a-f]+$/i,mc=/^0b[01]+$/i,xc=/^0o[0-7]+$/i,pc=parseInt;const vc=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||(0,zt.Z)(t)&&"[object Symbol]"==(0,Yt.Z)(t)}(t))return NaN;if((0,U.Z)(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=(0,U.Z)(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=cc(t);var e=mc.test(t);return e||xc.test(t)?pc(t.slice(2),e?2:8):hc.test(t)?NaN:+t},Dc=function(t){var i=function(t){return t?1/0===(t=vc(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}(t),e=i%1;return i==i?e?i-e:i:0},Qt=function(t,i,e){return i=(e?function(t,i,e){if(!(0,U.Z)(e))return!1;var n=typeof i;return!!("number"==n?(0,Ze.Z)(e)&&(0,ic.Z)(i,e.length):"string"==n&&i in e)&&(0,He.Z)(e[i],t)}(t,i,e):void 0===i)?1:Dc(i),((0,ht.Z)(t)?Xd:ec)(t,i)};var m=d(2745);function $t(t,i){return new Array(t.iCannotKnow?4:3).fill(void 0).map(()=>({isArbitrary:t.cueType===m.j8.arbitrary,fileName:t.cueType===m.j8.nonArbitrary?m.Sg:m.FC[i],value:i}))}class Mc extends class{constructor(i,e){this.correctCount=0,this.history=[],this.index=-1,this.trials=[],this.name=i,this.config=e}get trial(){return this.trials[this.index]}complete(){var i,e;this.completed=new Date,null===(i=this.component)||void 0===i||i.showMessage("BLOCK COMPLETE",!0),null===(e=this.component)||void 0===e||e.completed.emit()}cueSelected(i){var e,n;this.history.push(Object.assign(Object.assign({},this.trial),{selected:i}));const l=(null==i?void 0:i.cue.value)===this.trial.cue;l&&this.correctCount++,console.log("correct",this.correctCount),console.log("incorrect",this.index+1-this.correctCount),this.index===this.trials.length-1&&setTimeout(()=>{var r;return null===(r=this.component)||void 0===r?void 0:r.setVisibility(!1)},2e3),i?this.feedbackEnabled()?null===(n=this.component)||void 0===n||n.showFeedback(l?"CORRECT":"WRONG"):this.nextTrial():null===(e=this.component)||void 0===e||e.showFeedback("TIME EXPIRED")}feedbackEnabled(){return!1}nextTrial(){var i;0===this.index&&(this.started=new Date),this.index!==this.trials.length-1?(this.index++,null===(i=this.component)||void 0===i||i.showTrial(this.trial)):setTimeout(()=>this.complete(),1e3)}reset(){this.index=-1,this.correctCount=0,this.createTrials()}start(i){this.component=i,this.createTrials(),i.showMessage("CLICK TO START")}}{constructor(i,e,n){super("Forced choice block",n),this.attempts=0,this.network1=i,this.network2=e}complete(){var i,e,n;this.attempts++,console.log("attempts",this.attempts),this.trials.length-this.correctCount==0?(this.completed=new Date,null===(i=this.component)||void 0===i||i.showMessage("BLOCK COMPLETE",!0)):(this.reset(),null===(e=this.component)||void 0===e||e.showMessage("REPEAT BLOCK"),null===(n=this.component)||void 0===n||n.setVisibility(!0))}createTrials(){const i=$t(this.config,m.bR.same),e=$t(this.config,m.bR.different),n=$t(this.config,m.bR.iCannotKnow),l=(0,dt.Z)([this.network1.identities,this.network1.identities].flat().map(v=>Object.assign(Object.assign({},v),{cueComponentConfigs:i}))),r=(0,dt.Z)([this.network1.trained,this.network1.mutuallyEntailed,this.network1.combinatoriallyEntailed].flat().map(v=>Object.assign(Object.assign({},v),{cueComponentConfigs:e}))),o=[];for(const v of this.network1.stimuli)for(const C of this.network2.stimuli)o.push({cue:m.bR.iCannotKnow,stimuli:[v,C]},{cue:m.bR.iCannotKnow,stimuli:[C,v]});const a=l.concat(r),c=o.map(v=>Object.assign(Object.assign({},v),{cueComponentConfigs:n})),w=(0,dt.Z)(Ci(Qt(r,5)).concat(Ci(Qt(c,5))).map(v=>(v.cueComponentConfigs=function(t,i,e){return new Array(2).fill(void 0).map(()=>({isArbitrary:t.cueType===m.j8.arbitrary,fileName:t.cueType===m.j8.nonArbitrary?m.Sg:m.FC[i],value:i})).concat(new Array(2).fill(void 0).map(()=>({isArbitrary:t.cueType===m.j8.arbitrary,fileName:t.cueType===m.j8.nonArbitrary?m.Sg:m.FC[e],value:e})))}(this.config,m.bR.different,m.bR.iCannotKnow),v)));this.trials=this.config.iCannotKnow?a.concat(Qt(c,6),w):a}feedbackEnabled(){return this.index<18}}const bi=function(t){return Ai(t,4)};var Rc=d(7012);const Mi=function(t){var i=t.length;return i?t[(0,Rc.Z)(0,i-1)]:void 0},Bc=function(t){return Mi((0,Di.Z)(t))},Zt=function(t){return((0,ht.Z)(t)?Mi:Bc)(t)},Nt=["RWK","PGZ","QGK","FNK","ZVB","PWU","PLJ","KNF","GVW","KXL","GRQ","WPQ","BQP","FXX","ZTF","SGG","GQF","VXO","DZF","ZHD","JHH","VQP","JXY","ZVS","HGD","FJX","VHK","JTP","JTS","UHJ","WTZ","CXF","XFH","LWK","NWK","ZRG","FDG","NQC","WPW","YVR","HLJ","WBX","VGH","KXW","XAQ","WQG","DGJ","QUZ","QZX","HWL","DKX","ZDW","RZJ","VGJ","VWL","MKP","JFJ","GQY","BRX","IHG","YVP","SXG","FJC","QKU","WZY","QHJ","YTZ","RHF","YYB","QFH","ZUX","TQT","VZZ","BTQ","DHQ","XLW","VLW","VZJ","GGK","SWK","UFH","GPN","JSX","IQP","QUP","XDG","QWN","CBK","JVH","VXG","YBF","BVY","QZW","UPZ","WMX","XVN","RRX","QTX","DZN","WXP"],Gi={lower:"lower",upper:"upper"},Ic=Object.values(Gi);class Li extends class{constructor(i,e,n){this.num=i,this.case=e,this.stimuli=function(t,i){const e=[];for(;e.length<3;){const n=Zt(Nt);if(void 0===n)throw Error('Random value returned "undefined"!');const l=Nt.indexOf(n);l>-1&&Nt.splice(l,1),e.includes(n)||e.push(i===Gi.lower?n.toLowerCase():n.toUpperCase())}return e}(0,e),this.selectedCues=Zt(n)}get identities(){return this.stimuli.map(i=>({cue:m.bR.same,stimuli:[i,i]}))}get trained(){const[i,e,n]=this.stimuli;return[{cue:this.selectedCues[0],stimuli:[i,e]},{cue:this.selectedCues[1],stimuli:[i,n]}]}comparisonToString(i){return i.map(({cue:e,stimuli:[n,l]})=>`${n} ${e} ${l}`).join(", ")}}{constructor(i,e){super(i,e,[[m.bR.different,m.bR.different]])}get combinatoriallyEntailed(){const[i,e,n]=this.stimuli,l={cue:m.bR.different,stimuli:[e,n]};return[l,{cue:m.bR.different,stimuli:bi(l.stimuli).reverse()}]}get mutuallyEntailed(){return this.trained.map(({stimuli:i})=>({cue:m.bR.different,stimuli:bi(i).reverse()}))}toString(){return[`Network ${this.num}`,this.stimuli.map((i,e)=>`${String.fromCharCode(65+e)}${this.num} = ${this.stimuli[e]}`).join(", "),`Identities: ${this.comparisonToString(this.identities)}`,`Trained: ${this.comparisonToString(this.trained)}`].join("\n")}}class Yc{constructor(i){this.blocks=[],this.stimulusCase=function(){const t=Zt(Ic);if(void 0===t)throw Error('Random stimulus case returned "undefined"!');return t}(),this.config=i;const e=new Li(3,this.stimulusCase),n=new Li(4,this.stimulusCase);this.blocks=[new Mc(e,n,i)]}}let pt=(()=>{class t{constructor(e){this.configSvc=e}get trialTimeoutSeconds(){if(!this.conditions)throw Error("conditions not defined");return this.conditions.config.trialTimeoutSeconds}blocks$(){return this.configSvc.config$().pipe((0,Dr.U)(e=>(this.conditions=new Yc(e),this.conditions.blocks)))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Sr.R))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=d(4762);function Wt(t){return(i,e,n)=>{if(n.value)return n.value=function(t,i){return function(...e){setTimeout(()=>{t.apply(this,e)},i)}}(n.value,t),n;throw new Error("@delay is applicable only on a methods.")}}function yt(t){return(0,g.X$)((null==t?void 0:t.anchor)||"fadeOut",[(0,g.SB)("false",(0,g.oB)({visibility:"visible",opacity:1})),(0,g.SB)(":leave",(0,g.oB)({visibility:"visible",opacity:1})),(0,g.SB)("true",(0,g.oB)({visibility:"hidden",opacity:0})),(0,g.eR)("void => *",(0,g.jt)(0)),(0,g.eR)("* => true",(0,g.jt)("{{duration}}ms {{delay}}ms ease-in"),{params:{duration:(null==t?void 0:t.duration)||1e3,delay:(null==t?void 0:t.delay)||0}})])}const L=150;class R{constructor(i,e){this.data=i,this.ref=e,this.animated=!1,this.animate(),this.next(),this.close()}animate(){this.animated=!0}close(){this.ref.close()}next(){this.data.next()}}R.\u0275fac=function(i){return new(i||R)(s.Y36(Ot),s.Y36(it))},R.\u0275cmp=s.Xpm({type:R,selectors:[["trial-correct-dialog"]],decls:3,vars:2,consts:[[1,"vw-100","vh-100","d-flex","justify-content-center","align-items-center","bg-white"],[1,"overlay-dynamic-text","user-select-none"]],template:function(i,e){1&i&&(s.TgZ(0,"div",0),s.TgZ(1,"strong",1),s._uU(2),s.qZA(),s.qZA()),2&i&&(s.Q6J("@fadeOut",e.animated),s.xp6(2),s.Oqu(e.data.feedback))},styles:[".overlay-dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,8vw,15rem);white-space:nowrap}"],data:{animation:[yt({duration:L,delay:2850})]}}),(0,_.gn)([Wt(0),(0,_.w6)("design:type",Function),(0,_.w6)("design:paramtypes",[]),(0,_.w6)("design:returntype",void 0)],R.prototype,"animate",null),(0,_.gn)([Wt(3e3),(0,_.w6)("design:type",Function),(0,_.w6)("design:paramtypes",[]),(0,_.w6)("design:returntype",void 0)],R.prototype,"close",null),(0,_.gn)([Wt(2850),(0,_.w6)("design:type",Function),(0,_.w6)("design:paramtypes",[]),(0,_.w6)("design:returntype",void 0)],R.prototype,"next",null);var vt=d(9524),Ti=d(3637),Hc=d(6561);function Qc(t){const{subscriber:i,counter:e,period:n}=t;i.next(e),this.schedule({subscriber:i,counter:e+1,period:n},n)}var $c=d(409);function Ii(t){return(0,g.X$)((null==t?void 0:t.anchor)||"fadeIn",[(0,g.SB)("void",(0,g.oB)({visibility:"hidden",opacity:0})),(0,g.SB)("false",(0,g.oB)({visibility:"hidden",opacity:0})),(0,g.SB)("true",(0,g.oB)({visibility:"visible",opacity:1})),(0,g.eR)("* => true",(0,g.jt)("{{duration}}ms {{delay}}ms ease-in"),{params:{duration:(null==t?void 0:t.duration)||1e3,delay:(null==t?void 0:t.delay)||0}})])}var Zc=d(6797);function Ut(t){return(0,Zc.H)(t).toPromise()}const Nc=function(t){return{"d-none":t}},Wc=function(t){return{"pointer-events":t}},Uc=function(t){return{delay:t}},Kc=function(t,i){return{value:t,params:i}};let ki=(()=>{class t{constructor(){this.animationDelay=0,this.selected=new s.vpe}set(e){return(0,_.mG)(this,void 0,void 0,function*(){this.animate="fade-out",yield Ut(L),this.config=e,this.animate="fade-in"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-cue"]],inputs:{animationDelay:"animationDelay"},outputs:{selected:"selected"},decls:3,vars:16,consts:[["matRipple","",1,"trial-item",3,"ngClass","ngStyle","click"],[1,"dynamic-text"]],template:function(e,n){1&e&&(s.TgZ(0,"button",0),s.NdJ("click",function(){return n.selected.emit(n.config)}),s.TgZ(1,"strong",1),s._uU(2),s.qZA(),s.qZA()),2&e&&(s.Udp("background-image",null==n.config?null:n.config.fileName),s.Q6J("ngClass",s.VKq(7,Nc,void 0===n.config))("ngStyle",s.VKq(9,Wc,null!=n.config&&n.config.value?"all":"none"))("@fadeIn",s.WLB(13,Kc,"fade-in"===n.animate,s.VKq(11,Uc,n.animationDelay)))("@fadeOut","fade-out"===n.animate),s.xp6(2),s.Oqu(null!=n.config&&n.config.isArbitrary?"\xa0":(null==n.config?null:n.config.value)||""))},directives:[j.wG,u.mk,u.PC],styles:["[_nghost-%COMP%]{display:block}button.trial-item[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;aspect-ratio:2;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}",""],data:{animation:[Ii(),yt({duration:L})]}}),t})();const qc=function(t){return{delay:t}},Jc=function(t,i){return{value:t,params:i}};let Pi=(()=>{class t{constructor(){this.animationDelay=0}set(e){return(0,_.mG)(this,void 0,void 0,function*(){this.animate="fade-out",yield Ut(L),this.backgroundImage=m.Sg,this.cue=e,this.animate="fade-in"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-stimulus"]],inputs:{animationDelay:"animationDelay"},decls:3,vars:10,consts:[[1,"trial-item"],[1,"dynamic-text"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"strong",1),s._uU(2),s.qZA(),s.qZA()),2&e&&(s.Udp("background-image",n.backgroundImage),s.Q6J("@fadeIn",s.WLB(7,Jc,"fade-in"===n.animate,s.VKq(5,qc,n.animationDelay)))("@fadeOut","fade-out"===n.animate),s.xp6(2),s.Oqu(n.cue))},styles:["[_nghost-%COMP%]{display:block}button.trial-item[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;aspect-ratio:2;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}",""],data:{animation:[Ii(),yt({duration:L})]}}),t})();function Xc(t,i){if(1&t){const e=s.EpF();s.ynx(0),s.TgZ(1,"trial-cue",4),s.NdJ("selected",function(l){const o=s.CHM(e).index;return s.oxw().selected(l,o+1)}),s.qZA(),s.BQk()}2&t&&(s.xp6(1),s.Q6J("animationDelay",1500))}const tu=function(){return[]};let O=class{constructor(i){this.conditionSvc=i,this.completed=new s.vpe,this.secondsInTrial=0}ngAfterViewInit(){this.trialCueComponents.changes.pipe((0,vt.t)(this)).subscribe(),this.trialStimulusComponents.changes.pipe((0,vt.t)(this)).subscribe()}selected(i,e){var n;null===(n=this.timerSub)||void 0===n||n.unsubscribe(),this.completed.emit({cue:i,position:e})}setTimer(){this.timerSub&&this.timerSub.unsubscribe(),this.secondsInTrial=0,this.timerSub=function(t=0,i=Ti.P){return(!(0,Hc.k)(t)||t<0)&&(t=0),(!i||"function"!=typeof i.schedule)&&(i=Ti.P),new Xt.y(e=>(e.add(i.schedule(Qc,t,{subscriber:e,counter:0,period:t})),e))}(1e3).pipe((0,$c.o)(()=>this.secondsInTrial<this.conditionSvc.trialTimeoutSeconds),(0,ee.b)(()=>{this.secondsInTrial++,this.secondsInTrial==this.conditionSvc.trialTimeoutSeconds&&this.completed.emit()}),(0,vt.t)(this)).subscribe()}show(i){var e,n;console.log(i),this.setTimer();for(const[r,o]of i.stimuli.entries())null===(e=this.trialStimulusComponents.get(r))||void 0===e||e.set(o);const l=(0,dt.Z)(i.cueComponentConfigs);for(let r=0;r<this.trialCueComponents.length;r++)null===(n=this.trialCueComponents.get(r))||void 0===n||n.set(l[r])}};O.\u0275fac=function(i){return new(i||O)(s.Y36(pt))},O.\u0275cmp=s.Xpm({type:O,selectors:[["trial"]],viewQuery:function(i,e){if(1&i&&(s.Gf(ki,5),s.Gf(Pi,5)),2&i){let n;s.iGM(n=s.CRH())&&(e.trialCueComponents=n),s.iGM(n=s.CRH())&&(e.trialStimulusComponents=n)}},outputs:{completed:"completed"},decls:5,vars:4,consts:[[1,"trial-sample-stimuli"],[3,"animationDelay"],[1,"trial-buttons"],[4,"ngFor","ngForOf"],[3,"animationDelay","selected"]],template:function(i,e){1&i&&(s.TgZ(0,"div",0),s._UZ(1,"trial-stimulus",1),s._UZ(2,"trial-stimulus",1),s.qZA(),s.TgZ(3,"div",2),s.YNc(4,Xc,2,1,"ng-container",3),s.qZA()),2&i&&(s.xp6(1),s.Q6J("animationDelay",500),s.xp6(1),s.Q6J("animationDelay",1e3),s.xp6(2),s.Q6J("ngForOf",s.DdM(3,tu).constructor(5)))},directives:[Pi,u.sg,ki],styles:["[_nghost-%COMP%]{display:block}button.trial-item[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;aspect-ratio:2;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}"]}),O=(0,_.gn)([(0,vt.c)(),(0,_.w6)("design:paramtypes",[pt])],O);let eu=(()=>{class t{constructor(e,n){this.data=e,this.ref=n,this.animated=!1,this.disableClose=Boolean(this.data.disableClose)}close(){return(0,_.mG)(this,void 0,void 0,function*(){this.animated=!0,yield Ut(L),this.ref.close()})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Ot),s.Y36(it))},t.\u0275cmp=s.Xpm({type:t,selectors:[["block-start-dialog"]],decls:3,vars:3,consts:[["mat-ripple","",1,"vw-100","vh-100","d-flex","justify-content-center","align-items-center","bg-white",3,"matRippleDisabled","click"],[1,"overlay-dynamic-text","user-select-none"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0),s.NdJ("click",function(){return!1===n.disableClose&&n.close()}),s.TgZ(1,"strong",1),s._uU(2),s.qZA(),s.qZA()),2&e&&(s.Q6J("@fadeOut",n.animated)("matRippleDisabled",n.animated||n.disableClose),s.xp6(2),s.Oqu(n.data.text))},directives:[j.wG],styles:[".overlay-dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,8vw,15rem);white-space:nowrap}"],data:{animation:[yt({duration:L})]}}),t})();function ji(t){return{data:t,disableClose:!0,hasBackdrop:!1,closeOnNavigation:!0,height:"100vh",maxHeight:"100vh",maxWidth:"100vw",panelClass:["fullscreen-dialog-container","animate__animated","animate__fadeIn"],width:"100vw"}}function iu(t,i){if(1&t){const e=s.EpF();s.TgZ(0,"trial",1),s.NdJ("completed",function(l){return s.CHM(e),s.oxw().block.cueSelected(l)}),s.qZA()}}let Kt=(()=>{class t{constructor(e,n){this.conditionSvc=e,this.dialog=n,this.completed=new s.vpe,this.conditions=this.conditionSvc.conditions,this.isVisible=!0}next(e){this.block=e,this.block.start(this)}showFeedback(e){this.dialog.open(R,ji({feedback:e,next:()=>this.block.nextTrial()}))}showMessage(e,n=!1){this.dialog.open(eu,ji({text:e,disableClose:n})).afterClosed().subscribe(()=>this.block.nextTrial())}showTrial(e){var n;null===(n=this.trialComponent)||void 0===n||n.show(e)}setVisibility(e){this.isVisible=e}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(pt),s.Y36(at))},t.\u0275cmp=s.Xpm({type:t,selectors:[["block"]],viewQuery:function(e,n){if(1&e&&s.Gf(O,5),2&e){let l;s.iGM(l=s.CRH())&&(n.trialComponent=l.first)}},outputs:{completed:"completed"},decls:1,vars:1,consts:[[3,"completed",4,"ngIf"],[3,"completed"]],template:function(e,n){1&e&&s.YNc(0,iu,1,0,"trial",0),2&e&&s.Q6J("ngIf",n.isVisible)},styles:[""],data:{animation:[]}}),t})(),nu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[_r,u.ez,ke,pr,wr]]}),t})();s.B6R(Kt,[u.O5,O],[]);var Yi=d(1896);const su=[{path:"",component:(()=>{class t{constructor(e){this.conditionsSvc=e,this.blocks=[],this.completed=new s.vpe}nextBlock(){var e;this.blocks.length>0?null===(e=this.blockComponent)||void 0===e||e.next(this.blocks.shift()):this.completed.emit()}ngOnInit(){return(0,_.mG)(this,void 0,void 0,function*(){this.blocks=yield this.conditionsSvc.blocks$().toPromise(),this.nextBlock()})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(pt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["study"]],viewQuery:function(e,n){if(1&e&&s.Gf(Kt,5),2&e){let l;s.iGM(l=s.CRH())&&(n.blockComponent=l.first)}},decls:1,vars:0,consts:[[3,"completed"]],template:function(e,n){1&e&&(s.TgZ(0,"block",0),s.NdJ("completed",function(){return n.nextBlock()}),s.qZA())},directives:[Kt],styles:["[_nghost-%COMP%]{-webkit-box-align:center;-webkit-box-pack:center;align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;width:100%}"]}),t})()}];let lu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Yi.Bz.forChild(su)],Yi.Bz]}),t})(),ru=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.ez,lu,nu]]}),t})()}}]);